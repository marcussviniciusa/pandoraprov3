/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/whatsapp/chats/route";
exports.ids = ["app/api/whatsapp/chats/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwhatsapp%2Fchats%2Froute&page=%2Fapi%2Fwhatsapp%2Fchats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwhatsapp%2Fchats%2Froute.ts&appDir=%2Fhome%2Fm%2Fpandoraprov3%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fm%2Fpandoraprov3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwhatsapp%2Fchats%2Froute&page=%2Fapi%2Fwhatsapp%2Fchats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwhatsapp%2Fchats%2Froute.ts&appDir=%2Fhome%2Fm%2Fpandoraprov3%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fm%2Fpandoraprov3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_m_pandoraprov3_src_app_api_whatsapp_chats_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/whatsapp/chats/route.ts */ \"(rsc)/./src/app/api/whatsapp/chats/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/whatsapp/chats/route\",\n        pathname: \"/api/whatsapp/chats\",\n        filename: \"route\",\n        bundlePath: \"app/api/whatsapp/chats/route\"\n    },\n    resolvedPagePath: \"/home/m/pandoraprov3/src/app/api/whatsapp/chats/route.ts\",\n    nextConfigOutput,\n    userland: _home_m_pandoraprov3_src_app_api_whatsapp_chats_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ3aGF0c2FwcCUyRmNoYXRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ3aGF0c2FwcCUyRmNoYXRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGd2hhdHNhcHAlMkZjaGF0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGbSUyRnBhbmRvcmFwcm92MyUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRm0lMkZwYW5kb3JhcHJvdjMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ1E7QUFDckY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL20vcGFuZG9yYXByb3YzL3NyYy9hcHAvYXBpL3doYXRzYXBwL2NoYXRzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS93aGF0c2FwcC9jaGF0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3doYXRzYXBwL2NoYXRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS93aGF0c2FwcC9jaGF0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL20vcGFuZG9yYXByb3YzL3NyYy9hcHAvYXBpL3doYXRzYXBwL2NoYXRzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwhatsapp%2Fchats%2Froute&page=%2Fapi%2Fwhatsapp%2Fchats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwhatsapp%2Fchats%2Froute.ts&appDir=%2Fhome%2Fm%2Fpandoraprov3%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fm%2Fpandoraprov3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/whatsapp/chats/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/whatsapp/chats/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_whatsapp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/whatsapp */ \"(rsc)/./src/models/whatsapp.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n\n\n\n\nasync function GET(request) {\n    try {\n        // Verificar autenticaÃ§Ã£o\n        const userData = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.getTokenUserData)(request);\n        if (!userData) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: 'NÃ£o autorizado'\n            }, {\n                status: 401\n            });\n        }\n        // Conectar ao banco de dados\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Buscar chats da empresa do usuÃ¡rio\n        const chats = await _models_whatsapp__WEBPACK_IMPORTED_MODULE_2__.ChatWhatsApp.find({}).sort({\n            lastMessageTimestamp: -1\n        }).limit(50).lean();\n        // Transformar dados para o formato da interface\n        const formattedChats = chats.map((chat)=>({\n                id: chat._id.toString(),\n                contactName: chat.contactName,\n                contactPhone: extractPhoneFromJid(chat.contactJid),\n                contactJid: chat.contactJid,\n                lastMessage: chat.lastMessage || '',\n                lastMessageTime: chat.lastMessageTimestamp || chat.updatedAt,\n                unreadCount: chat.unreadCount || 0,\n                isOnline: false,\n                profilePicture: chat.contactProfilePicture,\n                clienteId: chat.clienteId\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: formattedChats\n        });\n    } catch (error) {\n        console.error('âŒ Erro ao buscar chats:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: error instanceof Error ? error.message : 'Erro interno do servidor'\n        }, {\n            status: 500\n        });\n    }\n}\nfunction extractPhoneFromJid(jid) {\n    return jid.replace('@s.whatsapp.net', '').replace('@g.us', '');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS93aGF0c2FwcC9jaGF0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RDtBQUNOO0FBQ0Q7QUFDSDtBQUV0QyxlQUFlSSxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YseUJBQXlCO1FBQ3pCLE1BQU1DLFdBQVcsTUFBTUgsMkRBQWdCQSxDQUFDRTtRQUN4QyxJQUFJLENBQUNDLFVBQVU7WUFDYixPQUFPTixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT0MsU0FBUztZQUFpQixHQUM1QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsNkJBQTZCO1FBQzdCLE1BQU1ULCtEQUFpQkE7UUFFdkIscUNBQXFDO1FBQ3JDLE1BQU1VLFFBQVEsTUFBTVQsMERBQVlBLENBQUNVLElBQUksQ0FBQyxDQUFDLEdBQ3BDQyxJQUFJLENBQUM7WUFBRUMsc0JBQXNCLENBQUM7UUFBRSxHQUNoQ0MsS0FBSyxDQUFDLElBQ05DLElBQUk7UUFFUCxnREFBZ0Q7UUFDaEQsTUFBTUMsaUJBQWlCTixNQUFNTyxHQUFHLENBQUNDLENBQUFBLE9BQVM7Z0JBQ3hDQyxJQUFJRCxLQUFLRSxHQUFHLENBQUNDLFFBQVE7Z0JBQ3JCQyxhQUFhSixLQUFLSSxXQUFXO2dCQUM3QkMsY0FBY0Msb0JBQW9CTixLQUFLTyxVQUFVO2dCQUNqREEsWUFBWVAsS0FBS08sVUFBVTtnQkFDM0JDLGFBQWFSLEtBQUtRLFdBQVcsSUFBSTtnQkFDakNDLGlCQUFpQlQsS0FBS0wsb0JBQW9CLElBQUlLLEtBQUtVLFNBQVM7Z0JBQzVEQyxhQUFhWCxLQUFLVyxXQUFXLElBQUk7Z0JBQ2pDQyxVQUFVO2dCQUNWQyxnQkFBZ0JiLEtBQUtjLHFCQUFxQjtnQkFDMUNDLFdBQVdmLEtBQUtlLFNBQVM7WUFDM0I7UUFFQSxPQUFPbEMscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUMkIsTUFBTWxCO1FBQ1I7SUFFRixFQUFFLE9BQU9tQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9wQyxxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RDLFNBQVMyQixpQkFBaUJFLFFBQVFGLE1BQU0zQixPQUFPLEdBQUc7UUFDcEQsR0FDQTtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVBLFNBQVNlLG9CQUFvQmMsR0FBVztJQUN0QyxPQUFPQSxJQUFJQyxPQUFPLENBQUMsbUJBQW1CLElBQUlBLE9BQU8sQ0FBQyxTQUFTO0FBQzdEIiwic291cmNlcyI6WyIvaG9tZS9tL3BhbmRvcmFwcm92My9zcmMvYXBwL2FwaS93aGF0c2FwcC9jaGF0cy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJ0AvbGliL21vbmdvZGInXG5pbXBvcnQgeyBDaGF0V2hhdHNBcHAgfSBmcm9tICdAL21vZGVscy93aGF0c2FwcCdcbmltcG9ydCB7IGdldFRva2VuVXNlckRhdGEgfSBmcm9tICdAL2xpYi9hdXRoJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZpY2FyIGF1dGVudGljYcOnw6NvXG4gICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBnZXRUb2tlblVzZXJEYXRhKHJlcXVlc3QpXG4gICAgaWYgKCF1c2VyRGF0YSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTsOjbyBhdXRvcml6YWRvJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBDb25lY3RhciBhbyBiYW5jbyBkZSBkYWRvc1xuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKClcblxuICAgIC8vIEJ1c2NhciBjaGF0cyBkYSBlbXByZXNhIGRvIHVzdcOhcmlvXG4gICAgY29uc3QgY2hhdHMgPSBhd2FpdCBDaGF0V2hhdHNBcHAuZmluZCh7fSlcbiAgICAgIC5zb3J0KHsgbGFzdE1lc3NhZ2VUaW1lc3RhbXA6IC0xIH0pXG4gICAgICAubGltaXQoNTApXG4gICAgICAubGVhbigpXG5cbiAgICAvLyBUcmFuc2Zvcm1hciBkYWRvcyBwYXJhIG8gZm9ybWF0byBkYSBpbnRlcmZhY2VcbiAgICBjb25zdCBmb3JtYXR0ZWRDaGF0cyA9IGNoYXRzLm1hcChjaGF0ID0+ICh7XG4gICAgICBpZDogY2hhdC5faWQudG9TdHJpbmcoKSxcbiAgICAgIGNvbnRhY3ROYW1lOiBjaGF0LmNvbnRhY3ROYW1lLFxuICAgICAgY29udGFjdFBob25lOiBleHRyYWN0UGhvbmVGcm9tSmlkKGNoYXQuY29udGFjdEppZCksXG4gICAgICBjb250YWN0SmlkOiBjaGF0LmNvbnRhY3RKaWQsXG4gICAgICBsYXN0TWVzc2FnZTogY2hhdC5sYXN0TWVzc2FnZSB8fCAnJyxcbiAgICAgIGxhc3RNZXNzYWdlVGltZTogY2hhdC5sYXN0TWVzc2FnZVRpbWVzdGFtcCB8fCBjaGF0LnVwZGF0ZWRBdCxcbiAgICAgIHVucmVhZENvdW50OiBjaGF0LnVucmVhZENvdW50IHx8IDAsXG4gICAgICBpc09ubGluZTogZmFsc2UsIC8vIFRPRE86IEltcGxlbWVudGFyIHN0YXR1cyBvbmxpbmUgcmVhbFxuICAgICAgcHJvZmlsZVBpY3R1cmU6IGNoYXQuY29udGFjdFByb2ZpbGVQaWN0dXJlLFxuICAgICAgY2xpZW50ZUlkOiBjaGF0LmNsaWVudGVJZFxuICAgIH0pKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBmb3JtYXR0ZWRDaGF0c1xuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJybyBhbyBidXNjYXIgY2hhdHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InIFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0UGhvbmVGcm9tSmlkKGppZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGppZC5yZXBsYWNlKCdAcy53aGF0c2FwcC5uZXQnLCAnJykucmVwbGFjZSgnQGcudXMnLCAnJylcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiQ2hhdFdoYXRzQXBwIiwiZ2V0VG9rZW5Vc2VyRGF0YSIsIkdFVCIsInJlcXVlc3QiLCJ1c2VyRGF0YSIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInN0YXR1cyIsImNoYXRzIiwiZmluZCIsInNvcnQiLCJsYXN0TWVzc2FnZVRpbWVzdGFtcCIsImxpbWl0IiwibGVhbiIsImZvcm1hdHRlZENoYXRzIiwibWFwIiwiY2hhdCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJjb250YWN0TmFtZSIsImNvbnRhY3RQaG9uZSIsImV4dHJhY3RQaG9uZUZyb21KaWQiLCJjb250YWN0SmlkIiwibGFzdE1lc3NhZ2UiLCJsYXN0TWVzc2FnZVRpbWUiLCJ1cGRhdGVkQXQiLCJ1bnJlYWRDb3VudCIsImlzT25saW5lIiwicHJvZmlsZVBpY3R1cmUiLCJjb250YWN0UHJvZmlsZVBpY3R1cmUiLCJjbGllbnRlSWQiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJqaWQiLCJyZXBsYWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/whatsapp/chats/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   extractToken: () => (/* binding */ extractToken),\n/* harmony export */   forbiddenResponse: () => (/* binding */ forbiddenResponse),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getTokenUserData: () => (/* binding */ getTokenUserData),\n/* harmony export */   hasRole: () => (/* binding */ hasRole),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isSuperAdmin: () => (/* binding */ isSuperAdmin),\n/* harmony export */   unauthorizedResponse: () => (/* binding */ unauthorizedResponse),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models */ \"(rsc)/./src/models/index.ts\");\n\n\n\nconst JWT_SECRET = \"971a8288d8c810ec506eadf3342c72b05817057e03321a11f0f93f1b09ddcb1f\";\n// FunÃ§Ã£o para verificar token JWT\nfunction verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n}\n// FunÃ§Ã£o para gerar token JWT\nfunction generateToken(payload) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, {\n        expiresIn: '7d'\n    });\n}\n// FunÃ§Ã£o para extrair token do request\nfunction extractToken(request) {\n    // Primeiro verifica no cookie\n    const cookieToken = request.cookies.get('auth-token')?.value;\n    if (cookieToken) {\n        return cookieToken;\n    }\n    // Depois verifica no header Authorization\n    const authHeader = request.headers.get('Authorization');\n    if (authHeader && authHeader.startsWith('Bearer ')) {\n        return authHeader.substring(7);\n    }\n    return null;\n}\n// Middleware para autenticaÃ§Ã£o\nasync function authenticateUser(request) {\n    try {\n        const token = extractToken(request);\n        if (!token) {\n            return null;\n        }\n        const payload = verifyToken(token);\n        if (!payload) {\n            return null;\n        }\n        await (0,_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Buscar usuÃ¡rio no banco para verificar se ainda estÃ¡ ativo\n        const usuario = await _models__WEBPACK_IMPORTED_MODULE_2__.Usuario.findById(payload.userId).populate('empresaId');\n        if (!usuario || !usuario.ativo) {\n            return null;\n        }\n        // Verificar se a empresa ainda estÃ¡ ativa\n        const empresa = await _models__WEBPACK_IMPORTED_MODULE_2__.Empresa.findById(usuario.empresaId);\n        if (!empresa || !empresa.isAtiva()) {\n            return null;\n        }\n        return {\n            id: usuario._id.toString(),\n            nome: usuario.nome,\n            email: usuario.email,\n            role: usuario.role,\n            empresaId: usuario.empresaId.toString(),\n            especialidades: usuario.especialidades,\n            avatar: usuario.avatar,\n            empresa: {\n                id: empresa._id.toString(),\n                nome: empresa.nome,\n                status: empresa.status\n            }\n        };\n    } catch (error) {\n        console.error('Erro na autenticaÃ§Ã£o:', error);\n        return null;\n    }\n}\n// Helper para verificar roles\nfunction hasRole(user, allowedRoles) {\n    return allowedRoles.includes(user.role);\n}\n// Helper para verificar se Ã© admin\nfunction isAdmin(user) {\n    return [\n        'admin',\n        'super_admin'\n    ].includes(user.role);\n}\n// Helper para verificar se Ã© super admin\nfunction isSuperAdmin(user) {\n    return user.role === 'super_admin';\n}\n// FunÃ§Ã£o para criar resposta de erro de autenticaÃ§Ã£o\nfunction unauthorizedResponse(message = 'Token invÃ¡lido ou expirado') {\n    return Response.json({\n        success: false,\n        error: message\n    }, {\n        status: 401\n    });\n}\n// FunÃ§Ã£o para criar resposta de erro de autorizaÃ§Ã£o\nfunction forbiddenResponse(message = 'Acesso negado') {\n    return Response.json({\n        success: false,\n        error: message\n    }, {\n        status: 403\n    });\n}\n// FunÃ§Ã£o para obter dados do usuÃ¡rio pelo token (para compatibilidade)\nasync function getTokenUserData(request) {\n    const user = await authenticateUser(request);\n    if (!user) return null;\n    return {\n        userId: user.id,\n        tenantId: user.empresaId,\n        email: user.email,\n        nome: user.nome,\n        role: user.role\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUM7UUFDbkJDLFNBQVM7UUFDVDVDLE9BQU95QztJQUNULEdBQUc7UUFBRVQsUUFBUTtJQUFJO0FBQ25CO0FBRUEsb0RBQW9EO0FBQzdDLFNBQVNhLGtCQUFrQkosVUFBa0IsZUFBZTtJQUNqRSxPQUFPQyxTQUFTQyxJQUFJLENBQUM7UUFDbkJDLFNBQVM7UUFDVDVDLE9BQU95QztJQUNULEdBQUc7UUFBRVQsUUFBUTtJQUFJO0FBQ25CO0FBRUEsdUVBQXVFO0FBQ2hFLGVBQWVjLGlCQUFpQnhDLE9BQW9CO0lBQ3pELE1BQU02QixPQUFPLE1BQU1wQixpQkFBaUJUO0lBQ3BDLElBQUksQ0FBQzZCLE1BQU0sT0FBTztJQUVsQixPQUFPO1FBQ0xqQixRQUFRaUIsS0FBS1gsRUFBRTtRQUNmdUIsVUFBVVosS0FBS2IsU0FBUztRQUN4Qk0sT0FBT08sS0FBS1AsS0FBSztRQUNqQkQsTUFBTVEsS0FBS1IsSUFBSTtRQUNmRSxNQUFNTSxLQUFLTixJQUFJO0lBQ2pCO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL20vcGFuZG9yYXByb3YzL3NyYy9saWIvYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjb25uZWN0VG9EYXRhYmFzZSB9IGZyb20gJy4vbW9uZ29kYidcbmltcG9ydCB7IFVzdWFyaW8sIEVtcHJlc2EgfSBmcm9tICdAL21vZGVscydcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCFcblxuLy8gSW50ZXJmYWNlIHBhcmEgbyBwYXlsb2FkIGRvIEpXVFxuZXhwb3J0IGludGVyZmFjZSBKV1RQYXlsb2FkIHtcbiAgdXNlcklkOiBzdHJpbmdcbiAgZW1wcmVzYUlkOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICByb2xlOiBzdHJpbmdcbiAgbm9tZTogc3RyaW5nXG4gIGlhdD86IG51bWJlclxuICBleHA/OiBudW1iZXJcbn1cblxuLy8gSW50ZXJmYWNlIHBhcmEgbyB1c3XDoXJpbyBhdXRlbnRpY2Fkb1xuZXhwb3J0IGludGVyZmFjZSBBdXRoVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgbm9tZTogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgcm9sZTogc3RyaW5nXG4gIGVtcHJlc2FJZDogc3RyaW5nXG4gIGVzcGVjaWFsaWRhZGVzOiBzdHJpbmdbXVxuICBhdmF0YXI/OiBzdHJpbmdcbiAgZW1wcmVzYToge1xuICAgIGlkOiBzdHJpbmdcbiAgICBub21lOiBzdHJpbmdcbiAgICBzdGF0dXM6IHN0cmluZ1xuICB9XG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgdmVyaWZpY2FyIHRva2VuIEpXVFxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBKV1RQYXlsb2FkIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIEpXVFBheWxvYWRcbiAgICByZXR1cm4gZGVjb2RlZFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gRnVuw6fDo28gcGFyYSBnZXJhciB0b2tlbiBKV1RcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHBheWxvYWQ6IE9taXQ8SldUUGF5bG9hZCwgJ2lhdCcgfCAnZXhwJz4pOiBzdHJpbmcge1xuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgSldUX1NFQ1JFVCwge1xuICAgIGV4cGlyZXNJbjogJzdkJ1xuICB9KVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGV4dHJhaXIgdG9rZW4gZG8gcmVxdWVzdFxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUb2tlbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IHN0cmluZyB8IG51bGwge1xuICAvLyBQcmltZWlybyB2ZXJpZmljYSBubyBjb29raWVcbiAgY29uc3QgY29va2llVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJyk/LnZhbHVlXG4gIGlmIChjb29raWVUb2tlbikge1xuICAgIHJldHVybiBjb29raWVUb2tlblxuICB9XG4gIFxuICAvLyBEZXBvaXMgdmVyaWZpY2Egbm8gaGVhZGVyIEF1dGhvcml6YXRpb25cbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKVxuICBpZiAoYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgIHJldHVybiBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KVxuICB9XG4gIFxuICByZXR1cm4gbnVsbFxufVxuXG4vLyBNaWRkbGV3YXJlIHBhcmEgYXV0ZW50aWNhw6fDo29cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGVVc2VyKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxBdXRoVXNlciB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IGV4dHJhY3RUb2tlbihyZXF1ZXN0KVxuICAgIFxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSB2ZXJpZnlUb2tlbih0b2tlbilcbiAgICBcbiAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIFxuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKClcbiAgICBcbiAgICAvLyBCdXNjYXIgdXN1w6FyaW8gbm8gYmFuY28gcGFyYSB2ZXJpZmljYXIgc2UgYWluZGEgZXN0w6EgYXRpdm9cbiAgICBjb25zdCB1c3VhcmlvID0gYXdhaXQgVXN1YXJpby5maW5kQnlJZChwYXlsb2FkLnVzZXJJZCkucG9wdWxhdGUoJ2VtcHJlc2FJZCcpXG4gICAgXG4gICAgaWYgKCF1c3VhcmlvIHx8ICF1c3VhcmlvLmF0aXZvKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICBcbiAgICAvLyBWZXJpZmljYXIgc2UgYSBlbXByZXNhIGFpbmRhIGVzdMOhIGF0aXZhXG4gICAgY29uc3QgZW1wcmVzYSA9IGF3YWl0IEVtcHJlc2EuZmluZEJ5SWQodXN1YXJpby5lbXByZXNhSWQpXG4gICAgXG4gICAgaWYgKCFlbXByZXNhIHx8ICFlbXByZXNhLmlzQXRpdmEoKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB1c3VhcmlvLl9pZC50b1N0cmluZygpLFxuICAgICAgbm9tZTogdXN1YXJpby5ub21lLFxuICAgICAgZW1haWw6IHVzdWFyaW8uZW1haWwsXG4gICAgICByb2xlOiB1c3VhcmlvLnJvbGUsXG4gICAgICBlbXByZXNhSWQ6IHVzdWFyaW8uZW1wcmVzYUlkLnRvU3RyaW5nKCksXG4gICAgICBlc3BlY2lhbGlkYWRlczogdXN1YXJpby5lc3BlY2lhbGlkYWRlcyxcbiAgICAgIGF2YXRhcjogdXN1YXJpby5hdmF0YXIsXG4gICAgICBlbXByZXNhOiB7XG4gICAgICAgIGlkOiBlbXByZXNhLl9pZC50b1N0cmluZygpLFxuICAgICAgICBub21lOiBlbXByZXNhLm5vbWUsXG4gICAgICAgIHN0YXR1czogZW1wcmVzYS5zdGF0dXNcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBuYSBhdXRlbnRpY2HDp8OjbzonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIEhlbHBlciBwYXJhIHZlcmlmaWNhciByb2xlc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1JvbGUodXNlcjogQXV0aFVzZXIsIGFsbG93ZWRSb2xlczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgcmV0dXJuIGFsbG93ZWRSb2xlcy5pbmNsdWRlcyh1c2VyLnJvbGUpXG59XG5cbi8vIEhlbHBlciBwYXJhIHZlcmlmaWNhciBzZSDDqSBhZG1pblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWRtaW4odXNlcjogQXV0aFVzZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIFsnYWRtaW4nLCAnc3VwZXJfYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXG59XG5cbi8vIEhlbHBlciBwYXJhIHZlcmlmaWNhciBzZSDDqSBzdXBlciBhZG1pblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VwZXJBZG1pbih1c2VyOiBBdXRoVXNlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gdXNlci5yb2xlID09PSAnc3VwZXJfYWRtaW4nXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgY3JpYXIgcmVzcG9zdGEgZGUgZXJybyBkZSBhdXRlbnRpY2HDp8Ojb1xuZXhwb3J0IGZ1bmN0aW9uIHVuYXV0aG9yaXplZFJlc3BvbnNlKG1lc3NhZ2U6IHN0cmluZyA9ICdUb2tlbiBpbnbDoWxpZG8gb3UgZXhwaXJhZG8nKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcjogbWVzc2FnZVxuICB9LCB7IHN0YXR1czogNDAxIH0pXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgY3JpYXIgcmVzcG9zdGEgZGUgZXJybyBkZSBhdXRvcml6YcOnw6NvXG5leHBvcnQgZnVuY3Rpb24gZm9yYmlkZGVuUmVzcG9uc2UobWVzc2FnZTogc3RyaW5nID0gJ0FjZXNzbyBuZWdhZG8nKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcjogbWVzc2FnZVxuICB9LCB7IHN0YXR1czogNDAzIH0pXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgb2J0ZXIgZGFkb3MgZG8gdXN1w6FyaW8gcGVsbyB0b2tlbiAocGFyYSBjb21wYXRpYmlsaWRhZGUpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW5Vc2VyRGF0YShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlVXNlcihyZXF1ZXN0KVxuICBpZiAoIXVzZXIpIHJldHVybiBudWxsXG4gIFxuICByZXR1cm4ge1xuICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICB0ZW5hbnRJZDogdXNlci5lbXByZXNhSWQsIC8vIGVtcHJlc2FJZCBjb21vIHRlbmFudElkXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgbm9tZTogdXNlci5ub21lLFxuICAgIHJvbGU6IHVzZXIucm9sZVxuICB9XG59ICJdLCJuYW1lcyI6WyJqd3QiLCJjb25uZWN0VG9EYXRhYmFzZSIsIlVzdWFyaW8iLCJFbXByZXNhIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsImVycm9yIiwiZ2VuZXJhdGVUb2tlbiIsInBheWxvYWQiLCJzaWduIiwiZXhwaXJlc0luIiwiZXh0cmFjdFRva2VuIiwicmVxdWVzdCIsImNvb2tpZVRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiYXV0aGVudGljYXRlVXNlciIsInVzdWFyaW8iLCJmaW5kQnlJZCIsInVzZXJJZCIsInBvcHVsYXRlIiwiYXRpdm8iLCJlbXByZXNhIiwiZW1wcmVzYUlkIiwiaXNBdGl2YSIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJub21lIiwiZW1haWwiLCJyb2xlIiwiZXNwZWNpYWxpZGFkZXMiLCJhdmF0YXIiLCJzdGF0dXMiLCJjb25zb2xlIiwiaGFzUm9sZSIsInVzZXIiLCJhbGxvd2VkUm9sZXMiLCJpbmNsdWRlcyIsImlzQWRtaW4iLCJpc1N1cGVyQWRtaW4iLCJ1bmF1dGhvcml6ZWRSZXNwb25zZSIsIm1lc3NhZ2UiLCJSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwiZm9yYmlkZGVuUmVzcG9uc2UiLCJnZXRUb2tlblVzZXJEYXRhIiwidGVuYW50SWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   disconnectFromDatabase: () => (/* binding */ disconnectFromDatabase),\n/* harmony export */   ensureDbConnection: () => (/* binding */ ensureDbConnection)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nif (false) {}\nconst MONGODB_URI = \"mongodb://admin:Marcus1911Marcus@206.183.131.10:27017/pandoraprov3?authSource=admin\";\nlet cached = global.mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global.mongoose) {\n    global.mongoose = cached;\n}\nasync function connectToDatabase() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const options = {\n            bufferCommands: false,\n            maxPoolSize: 10,\n            serverSelectionTimeoutMS: 5000,\n            socketTimeoutMS: 45000,\n            family: 4\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, options).then((mongoose)=>{\n            console.log('ðŸš€ Conectado ao MongoDB com sucesso!');\n            return mongoose;\n        }).catch((error)=>{\n            console.error('âŒ Erro ao conectar com MongoDB:', error);\n            throw error;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n        return cached.conn;\n    } catch (error) {\n        cached.promise = null;\n        throw error;\n    }\n}\n// FunÃ§Ã£o para desconectar do banco (Ãºtil para testes)\nasync function disconnectFromDatabase() {\n    if (cached.conn) {\n        await cached.conn.disconnect();\n        cached.conn = null;\n        cached.promise = null;\n    }\n}\n// Middleware para garantir conexÃ£o antes de operaÃ§Ãµes do banco\nasync function ensureDbConnection() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 0) {\n        await connectToDatabase();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0I7QUFFL0IsSUFBSSxLQUF3QixFQUFFLEVBRTdCO0FBRUQsTUFBTUcsY0FBY0YscUZBQXVCO0FBWTNDLElBQUlJLFNBQXdCQyxPQUFPTixRQUFRLElBQUk7SUFBRU8sTUFBTTtJQUFNQyxTQUFTO0FBQUs7QUFFM0UsSUFBSSxDQUFDRixPQUFPTixRQUFRLEVBQUU7SUFDcEJNLE9BQU9OLFFBQVEsR0FBR0s7QUFDcEI7QUFFTyxlQUFlSTtJQUNwQixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsVUFBVTtZQUNkQyxnQkFBZ0I7WUFDaEJDLGFBQWE7WUFDYkMsMEJBQTBCO1lBQzFCQyxpQkFBaUI7WUFDakJDLFFBQVE7UUFDVjtRQUVBVixPQUFPRyxPQUFPLEdBQUdSLHVEQUFnQixDQUFDRyxhQUFhTyxTQUFTTyxJQUFJLENBQUMsQ0FBQ2pCO1lBQzVEa0IsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT25CO1FBQ1QsR0FBR29CLEtBQUssQ0FBQyxDQUFDQztZQUNSSCxRQUFRRyxLQUFLLENBQUMsbUNBQW1DQTtZQUNqRCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZoQixPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztRQUNsQyxPQUFPSCxPQUFPRSxJQUFJO0lBQ3BCLEVBQUUsT0FBT2MsT0FBTztRQUNkaEIsT0FBT0csT0FBTyxHQUFHO1FBQ2pCLE1BQU1hO0lBQ1I7QUFDRjtBQUVBLHNEQUFzRDtBQUMvQyxlQUFlQztJQUNwQixJQUFJakIsT0FBT0UsSUFBSSxFQUFFO1FBQ2YsTUFBTUYsT0FBT0UsSUFBSSxDQUFDZ0IsVUFBVTtRQUM1QmxCLE9BQU9FLElBQUksR0FBRztRQUNkRixPQUFPRyxPQUFPLEdBQUc7SUFDbkI7QUFDRjtBQUVBLCtEQUErRDtBQUN4RCxlQUFlZ0I7SUFDcEIsSUFBSXhCLDREQUFtQixDQUFDMEIsVUFBVSxLQUFLLEdBQUc7UUFDeEMsTUFBTWpCO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvbS9wYW5kb3JhcHJvdjMvc3JjL2xpYi9tb25nb2RiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1BvciBmYXZvciwgZGVmaW5hIGEgdmFyacOhdmVsIGRlIGFtYmllbnRlIE1PTkdPREJfVVJJIG5vIGFycXVpdm8gLmVudi5sb2NhbCcpXG59XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcblxuaW50ZXJmYWNlIE1vbmdvb3NlQ2FjaGUge1xuICBjb25uOiB0eXBlb2YgbW9uZ29vc2UgfCBudWxsXG4gIHByb21pc2U6IFByb21pc2U8dHlwZW9mIG1vbmdvb3NlPiB8IG51bGxcbn1cblxuLy8gVXNhbmRvIGNhY2hlIGdsb2JhbCBwYXJhIGV2aXRhciBtw7psdGlwbGFzIGNvbmV4w7VlcyBlbSBkZXNlbnZvbHZpbWVudG9cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlIHwgdW5kZWZpbmVkXG59XG5cbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSBnbG9iYWwubW9uZ29vc2UgfHwgeyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH1cblxuaWYgKCFnbG9iYWwubW9uZ29vc2UpIHtcbiAgZ2xvYmFsLm1vbmdvb3NlID0gY2FjaGVkXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpOiBQcm9taXNlPHR5cGVvZiBtb25nb29zZT4ge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm5cbiAgfVxuXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgICAgbWF4UG9vbFNpemU6IDEwLFxuICAgICAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLFxuICAgICAgc29ja2V0VGltZW91dE1TOiA0NTAwMCxcbiAgICAgIGZhbWlseTogNCwgLy8gVXNhciBJUHY0XG4gICAgfVxuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRpb25zKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/CfmoAgQ29uZWN0YWRvIGFvIE1vbmdvREIgY29tIHN1Y2Vzc28hJylcbiAgICAgIHJldHVybiBtb25nb29zZVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm8gYW8gY29uZWN0YXIgY29tIE1vbmdvREI6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH0pXG4gIH1cblxuICB0cnkge1xuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2VcbiAgICByZXR1cm4gY2FjaGVkLmNvbm5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGxcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgZGVzY29uZWN0YXIgZG8gYmFuY28gKMO6dGlsIHBhcmEgdGVzdGVzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2Nvbm5lY3RGcm9tRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChjYWNoZWQuY29ubikge1xuICAgIGF3YWl0IGNhY2hlZC5jb25uLmRpc2Nvbm5lY3QoKVxuICAgIGNhY2hlZC5jb25uID0gbnVsbFxuICAgIGNhY2hlZC5wcm9taXNlID0gbnVsbFxuICB9XG59XG5cbi8vIE1pZGRsZXdhcmUgcGFyYSBnYXJhbnRpciBjb25leMOjbyBhbnRlcyBkZSBvcGVyYcOnw7VlcyBkbyBiYW5jb1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZURiQ29ubmVjdGlvbigpIHtcbiAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKClcbiAgfVxufSAiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJvcHRpb25zIiwiYnVmZmVyQ29tbWFuZHMiLCJtYXhQb29sU2l6ZSIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsInNvY2tldFRpbWVvdXRNUyIsImZhbWlseSIsImNvbm5lY3QiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJkaXNjb25uZWN0RnJvbURhdGFiYXNlIiwiZGlzY29ubmVjdCIsImVuc3VyZURiQ29ubmVjdGlvbiIsImNvbm5lY3Rpb24iLCJyZWFkeVN0YXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Cliente.ts":
/*!*******************************!*\
  !*** ./src/models/Cliente.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ClienteSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    empresaId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'Empresa',\n        required: [\n            true,\n            'ID da empresa Ã© obrigatÃ³rio'\n        ],\n        index: true\n    },\n    nome: {\n        type: String,\n        required: [\n            true,\n            'Nome Ã© obrigatÃ³rio'\n        ],\n        trim: true,\n        maxlength: [\n            150,\n            'Nome deve ter no mÃ¡ximo 150 caracteres'\n        ]\n    },\n    cpf: {\n        type: String,\n        required: [\n            true,\n            'CPF Ã© obrigatÃ³rio'\n        ],\n        unique: true,\n        trim: true,\n        validate: {\n            validator: function(cpf) {\n                const cleaned = cpf.replace(/\\D/g, '');\n                return cleaned.length === 11;\n            },\n            message: 'CPF deve ter 11 dÃ­gitos'\n        }\n    },\n    rg: {\n        type: String,\n        trim: true,\n        maxlength: [\n            20,\n            'RG deve ter no mÃ¡ximo 20 caracteres'\n        ]\n    },\n    dataNascimento: {\n        type: Date,\n        required: [\n            true,\n            'Data de nascimento Ã© obrigatÃ³ria'\n        ],\n        validate: {\n            validator: function(data) {\n                const hoje = new Date();\n                const idade = hoje.getFullYear() - data.getFullYear();\n                return idade >= 0 && idade <= 120;\n            },\n            message: 'Data de nascimento deve ser vÃ¡lida'\n        }\n    },\n    telefone: {\n        type: String,\n        required: [\n            true,\n            'Telefone Ã© obrigatÃ³rio'\n        ],\n        trim: true,\n        validate: {\n            validator: function(telefone) {\n                const cleaned = telefone.replace(/\\D/g, '');\n                return cleaned.length >= 10 && cleaned.length <= 11;\n            },\n            message: 'Telefone deve ter 10 ou 11 dÃ­gitos'\n        }\n    },\n    email: {\n        type: String,\n        trim: true,\n        lowercase: true,\n        validate: {\n            validator: function(email) {\n                if (!email) return true;\n                return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n            },\n            message: 'Email deve ter um formato vÃ¡lido'\n        }\n    },\n    endereco: {\n        rua: {\n            type: String,\n            required: [\n                true,\n                'Rua Ã© obrigatÃ³ria'\n            ],\n            trim: true,\n            maxlength: [\n                200,\n                'Rua deve ter no mÃ¡ximo 200 caracteres'\n            ]\n        },\n        numero: {\n            type: String,\n            required: [\n                true,\n                'NÃºmero Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            maxlength: [\n                20,\n                'NÃºmero deve ter no mÃ¡ximo 20 caracteres'\n            ]\n        },\n        complemento: {\n            type: String,\n            trim: true,\n            maxlength: [\n                100,\n                'Complemento deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        bairro: {\n            type: String,\n            required: [\n                true,\n                'Bairro Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            maxlength: [\n                100,\n                'Bairro deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        cidade: {\n            type: String,\n            required: [\n                true,\n                'Cidade Ã© obrigatÃ³ria'\n            ],\n            trim: true,\n            maxlength: [\n                100,\n                'Cidade deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        estado: {\n            type: String,\n            required: [\n                true,\n                'Estado Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            length: [\n                2,\n                'Estado deve ter 2 caracteres'\n            ],\n            uppercase: true\n        },\n        cep: {\n            type: String,\n            required: [\n                true,\n                'CEP Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            validate: {\n                validator: function(cep) {\n                    const cleaned = cep.replace(/\\D/g, '');\n                    return cleaned.length === 8;\n                },\n                message: 'CEP deve ter 8 dÃ­gitos'\n            }\n        }\n    },\n    // Dados especÃ­ficos para advocacia previdenciÃ¡ria\n    dadosPrevidenciarios: {\n        nit: {\n            type: String,\n            trim: true,\n            validate: {\n                validator: function(nit) {\n                    if (!nit) return true;\n                    const cleaned = nit.replace(/\\D/g, '');\n                    return cleaned.length === 11;\n                },\n                message: 'NIT deve ter 11 dÃ­gitos'\n            }\n        },\n        numeroProcesso: {\n            type: String,\n            trim: true,\n            maxlength: [\n                50,\n                'NÃºmero do processo deve ter no mÃ¡ximo 50 caracteres'\n            ]\n        },\n        tipoBeneficio: {\n            type: String,\n            required: [\n                true,\n                'Tipo de benefÃ­cio Ã© obrigatÃ³rio'\n            ],\n            enum: [\n                'aposentadoria_idade',\n                'aposentadoria_tempo_contribuicao',\n                'aposentadoria_especial',\n                'auxilio_doenca',\n                'auxilio_acidente',\n                'bpc_deficiencia',\n                'bpc_idoso',\n                'pensao_morte',\n                'salario_maternidade',\n                'outros'\n            ]\n        },\n        valorBeneficio: {\n            type: Number,\n            min: [\n                0,\n                'Valor do benefÃ­cio deve ser positivo'\n            ],\n            validate: {\n                validator: function(valor) {\n                    if (!valor) return true;\n                    return valor >= 0 && valor <= 1000000 // Limite mÃ¡ximo razoÃ¡vel\n                    ;\n                },\n                message: 'Valor do benefÃ­cio deve ser vÃ¡lido'\n            }\n        },\n        dataInicioProcesso: {\n            type: Date,\n            validate: {\n                validator: function(data) {\n                    if (!data) return true;\n                    return data <= new Date();\n                },\n                message: 'Data de inÃ­cio do processo nÃ£o pode ser no futuro'\n            }\n        },\n        dataUltimaPericia: {\n            type: Date,\n            validate: {\n                validator: function(data) {\n                    if (!data) return true;\n                    return data <= new Date();\n                },\n                message: 'Data da Ãºltima perÃ­cia nÃ£o pode ser no futuro'\n            }\n        },\n        proximaPericia: {\n            type: Date,\n            validate: {\n                validator: function(data) {\n                    if (!data) return true;\n                    return data >= new Date();\n                },\n                message: 'Data da prÃ³xima perÃ­cia deve ser no futuro'\n            }\n        },\n        observacoes: {\n            type: String,\n            trim: true,\n            maxlength: [\n                1000,\n                'ObservaÃ§Ãµes devem ter no mÃ¡ximo 1000 caracteres'\n            ]\n        }\n    },\n    statusProcessual: {\n        type: String,\n        required: [\n            true,\n            'Status processual Ã© obrigatÃ³rio'\n        ],\n        enum: [\n            'consulta_inicial',\n            'documentacao_pendente',\n            'analise_caso',\n            'protocolo_inss',\n            'aguardando_resposta',\n            'recurso_contestacao',\n            'deferido',\n            'indeferido'\n        ],\n        default: 'consulta_inicial'\n    },\n    especialidade: {\n        type: String,\n        required: [\n            true,\n            'Especialidade Ã© obrigatÃ³ria'\n        ],\n        enum: [\n            'aposentadoria_idade',\n            'aposentadoria_tempo_contribuicao',\n            'aposentadoria_especial',\n            'auxilio_doenca',\n            'bpc',\n            'pensao_morte',\n            'revisao_beneficios',\n            'personalizada'\n        ]\n    },\n    prioridade: {\n        type: String,\n        enum: [\n            'baixa',\n            'normal',\n            'alta',\n            'urgente'\n        ],\n        default: 'normal'\n    },\n    origem: {\n        type: String,\n        required: [\n            true,\n            'Origem Ã© obrigatÃ³ria'\n        ],\n        enum: [\n            'indicacao',\n            'online',\n            'presencial',\n            'whatsapp',\n            'outros'\n        ],\n        default: 'presencial'\n    },\n    advogadoResponsavel: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'Usuario',\n        validate: {\n            validator: async function(advogadoId) {\n                if (!advogadoId) return true;\n                // Verifica se o advogado existe e estÃ¡ ativo na mesma empresa\n                const Usuario = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Usuario');\n                const advogado = await Usuario.findOne({\n                    _id: advogadoId,\n                    empresaId: this.empresaId,\n                    ativo: true\n                });\n                return !!advogado;\n            },\n            message: 'Advogado responsÃ¡vel deve ser vÃ¡lido e da mesma empresa'\n        }\n    },\n    tags: [\n        {\n            type: String,\n            trim: true,\n            maxlength: [\n                50,\n                'Tag deve ter no mÃ¡ximo 50 caracteres'\n            ]\n        }\n    ],\n    documentos: [\n        {\n            nome: {\n                type: String,\n                required: [\n                    true,\n                    'Nome do documento Ã© obrigatÃ³rio'\n                ],\n                trim: true,\n                maxlength: [\n                    200,\n                    'Nome do documento deve ter no mÃ¡ximo 200 caracteres'\n                ]\n            },\n            tipo: {\n                type: String,\n                required: [\n                    true,\n                    'Tipo do documento Ã© obrigatÃ³rio'\n                ],\n                enum: [\n                    'pdf',\n                    'jpg',\n                    'png',\n                    'doc',\n                    'docx',\n                    'xls',\n                    'xlsx',\n                    'outros'\n                ],\n                default: 'pdf'\n            },\n            url: {\n                type: String,\n                required: [\n                    true,\n                    'URL do documento Ã© obrigatÃ³ria'\n                ],\n                trim: true,\n                validate: {\n                    validator: function(url) {\n                        return /^https?:\\/\\/.+/.test(url) || url.startsWith('data:');\n                    },\n                    message: 'URL do documento deve ser vÃ¡lida'\n                }\n            },\n            dataUpload: {\n                type: Date,\n                default: Date.now\n            },\n            enviado: {\n                type: Boolean,\n                default: false\n            }\n        }\n    ],\n    anotacoes: [\n        {\n            texto: {\n                type: String,\n                required: [\n                    true,\n                    'Texto da anotaÃ§Ã£o Ã© obrigatÃ³rio'\n                ],\n                trim: true,\n                maxlength: [\n                    2000,\n                    'AnotaÃ§Ã£o deve ter no mÃ¡ximo 2000 caracteres'\n                ]\n            },\n            autor: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                ref: 'Usuario',\n                required: [\n                    true,\n                    'Autor da anotaÃ§Ã£o Ã© obrigatÃ³rio'\n                ]\n            },\n            data: {\n                type: Date,\n                default: Date.now\n            },\n            publica: {\n                type: Boolean,\n                default: false\n            }\n        }\n    ],\n    whatsappNumero: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(numero) {\n                if (!numero) return true;\n                const cleaned = numero.replace(/\\D/g, '');\n                return cleaned.length >= 10 && cleaned.length <= 15;\n            },\n            message: 'NÃºmero do WhatsApp deve ter entre 10 e 15 dÃ­gitos'\n        }\n    },\n    foto: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(foto) {\n                if (!foto) return true;\n                return /^https?:\\/\\/.+/.test(foto) || foto.startsWith('data:image/');\n            },\n            message: 'Foto deve ser uma URL vÃ¡lida ou base64'\n        }\n    },\n    ativo: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    timestamps: {\n        createdAt: 'criadoEm',\n        updatedAt: 'atualizadoEm'\n    },\n    versionKey: false\n});\n// Ãndices compostos para otimizaÃ§Ã£o\nClienteSchema.index({\n    empresaId: 1,\n    cpf: 1\n}, {\n    unique: true\n});\nClienteSchema.index({\n    empresaId: 1,\n    ativo: 1\n});\nClienteSchema.index({\n    empresaId: 1,\n    statusProcessual: 1\n});\nClienteSchema.index({\n    empresaId: 1,\n    especialidade: 1\n});\nClienteSchema.index({\n    empresaId: 1,\n    advogadoResponsavel: 1\n});\nClienteSchema.index({\n    empresaId: 1,\n    prioridade: 1\n});\nClienteSchema.index({\n    empresaId: 1,\n    tags: 1\n});\nClienteSchema.index({\n    nome: 'text',\n    'dadosPrevidenciarios.numeroProcesso': 'text'\n});\n// Middleware para formataÃ§Ã£o antes de salvar\nClienteSchema.pre('save', function(next) {\n    // Remove formataÃ§Ã£o do CPF\n    if (this.cpf) {\n        this.cpf = this.cpf.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do NIT\n    if (this.dadosPrevidenciarios?.nit) {\n        this.dadosPrevidenciarios.nit = this.dadosPrevidenciarios.nit.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do CEP\n    if (this.endereco?.cep) {\n        this.endereco.cep = this.endereco.cep.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do telefone\n    if (this.telefone) {\n        this.telefone = this.telefone.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do WhatsApp\n    if (this.whatsappNumero) {\n        this.whatsappNumero = this.whatsappNumero.replace(/\\D/g, '');\n    }\n    next();\n});\n// Virtual para idade\nClienteSchema.virtual('idade').get(function() {\n    const hoje = new Date();\n    const nascimento = this.dataNascimento;\n    let idade = hoje.getFullYear() - nascimento.getFullYear();\n    const mes = hoje.getMonth() - nascimento.getMonth();\n    if (mes < 0 || mes === 0 && hoje.getDate() < nascimento.getDate()) {\n        idade--;\n    }\n    return idade;\n});\n// Virtual para nome formatado\nClienteSchema.virtual('nomeFormatado').get(function() {\n    return this.nome.split(' ').map((palavra)=>palavra.charAt(0).toUpperCase() + palavra.slice(1).toLowerCase()).join(' ');\n});\n// Virtual para iniciais\nClienteSchema.virtual('iniciais').get(function() {\n    return this.nome.split(' ').map((palavra)=>palavra.charAt(0)).join('').toUpperCase().substring(0, 2);\n});\n// MÃ©todos do modelo\nClienteSchema.methods.adicionarAnotacao = function(texto, autorId, publica = false) {\n    this.anotacoes.push({\n        texto,\n        autor: autorId,\n        data: new Date(),\n        publica\n    });\n    return this.save();\n};\nClienteSchema.methods.alterarStatus = function(novoStatus) {\n    this.statusProcessual = novoStatus;\n    return this.save();\n};\nClienteSchema.methods.atribuirAdvogado = function(advogadoId) {\n    this.advogadoResponsavel = advogadoId;\n    return this.save();\n};\n// MÃ©todos estÃ¡ticos\nClienteSchema.statics.findByEmpresa = function(empresaId, filtros = {}) {\n    return this.find({\n        empresaId,\n        ativo: true,\n        ...filtros\n    }).populate('advogadoResponsavel', 'nome email especialidades');\n};\nClienteSchema.statics.findByStatus = function(empresaId, status) {\n    return this.find({\n        empresaId,\n        ativo: true,\n        statusProcessual: status\n    }).populate('advogadoResponsavel', 'nome email');\n};\nClienteSchema.statics.findByAdvogado = function(empresaId, advogadoId) {\n    return this.find({\n        empresaId,\n        ativo: true,\n        advogadoResponsavel: advogadoId\n    });\n};\nClienteSchema.statics.countByEmpresa = function(empresaId) {\n    return this.countDocuments({\n        empresaId,\n        ativo: true\n    });\n};\nClienteSchema.statics.countByStatus = function(empresaId) {\n    return this.aggregate([\n        {\n            $match: {\n                empresaId: new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Types).ObjectId(empresaId),\n                ativo: true\n            }\n        },\n        {\n            $group: {\n                _id: '$statusProcessual',\n                count: {\n                    $sum: 1\n                }\n            }\n        }\n    ]);\n};\nClienteSchema.statics.countByEspecialidade = function(empresaId) {\n    return this.aggregate([\n        {\n            $match: {\n                empresaId: new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Types).ObjectId(empresaId),\n                ativo: true\n            }\n        },\n        {\n            $group: {\n                _id: '$especialidade',\n                count: {\n                    $sum: 1\n                }\n            }\n        }\n    ]);\n};\n// Transformation para JSON\nClienteSchema.set('toJSON', {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.__v;\n        return ret;\n    }\n});\nconst Cliente = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Cliente || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Cliente', ClienteSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cliente);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT0EsRUFBQSIsInNvdXJjZXMiOlsiL2hvbWUvbS9wYW5kb3JhcHJvdjMvc3JjL21vZGVscy9DbGllbnRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIERvY3VtZW50IH0gZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgeyBDbGllbnRlIGFzIElDbGllbnRlIH0gZnJvbSAnQC90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRlRG9jdW1lbnQgZXh0ZW5kcyBPbWl0PElDbGllbnRlLCAnX2lkJz4sIERvY3VtZW50IHt9XG5cbmNvbnN0IENsaWVudGVTY2hlbWEgPSBuZXcgU2NoZW1hPENsaWVudGVEb2N1bWVudD4oe1xuICBlbXByZXNhSWQ6IHtcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiAnRW1wcmVzYScsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnSUQgZGEgZW1wcmVzYSDDqSBvYnJpZ2F0w7NyaW8nXSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBub21lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ05vbWUgw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXhsZW5ndGg6IFsxNTAsICdOb21lIGRldmUgdGVyIG5vIG3DoXhpbW8gMTUwIGNhcmFjdGVyZXMnXVxuICB9LFxuICBjcGY6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnQ1BGIMOpIG9icmlnYXTDs3JpbyddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNwZjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNsZWFuZWQgPSBjcGYucmVwbGFjZSgvXFxEL2csICcnKVxuICAgICAgICByZXR1cm4gY2xlYW5lZC5sZW5ndGggPT09IDExXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ0NQRiBkZXZlIHRlciAxMSBkw61naXRvcydcbiAgICB9XG4gIH0sXG4gIHJnOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF4bGVuZ3RoOiBbMjAsICdSRyBkZXZlIHRlciBubyBtw6F4aW1vIDIwIGNhcmFjdGVyZXMnXVxuICB9LFxuICBkYXRhTmFzY2ltZW50bzoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnRGF0YSBkZSBuYXNjaW1lbnRvIMOpIG9icmlnYXTDs3JpYSddLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGRhdGE6IERhdGUpIHtcbiAgICAgICAgY29uc3QgaG9qZSA9IG5ldyBEYXRlKClcbiAgICAgICAgY29uc3QgaWRhZGUgPSBob2plLmdldEZ1bGxZZWFyKCkgLSBkYXRhLmdldEZ1bGxZZWFyKClcbiAgICAgICAgcmV0dXJuIGlkYWRlID49IDAgJiYgaWRhZGUgPD0gMTIwXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ0RhdGEgZGUgbmFzY2ltZW50byBkZXZlIHNlciB2w6FsaWRhJ1xuICAgIH1cbiAgfSxcbiAgdGVsZWZvbmU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnVGVsZWZvbmUgw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgdHJpbTogdHJ1ZSxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0ZWxlZm9uZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNsZWFuZWQgPSB0ZWxlZm9uZS5yZXBsYWNlKC9cXEQvZywgJycpXG4gICAgICAgIHJldHVybiBjbGVhbmVkLmxlbmd0aCA+PSAxMCAmJiBjbGVhbmVkLmxlbmd0aCA8PSAxMVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdUZWxlZm9uZSBkZXZlIHRlciAxMCBvdSAxMSBkw61naXRvcydcbiAgICB9XG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGVtYWlsOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFlbWFpbCkgcmV0dXJuIHRydWVcbiAgICAgICAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoZW1haWwpXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ0VtYWlsIGRldmUgdGVyIHVtIGZvcm1hdG8gdsOhbGlkbydcbiAgICB9XG4gIH0sXG4gIGVuZGVyZWNvOiB7XG4gICAgcnVhOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdSdWEgw6kgb2JyaWdhdMOzcmlhJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbWF4bGVuZ3RoOiBbMjAwLCAnUnVhIGRldmUgdGVyIG5vIG3DoXhpbW8gMjAwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgbnVtZXJvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdOw7ptZXJvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzIwLCAnTsO6bWVybyBkZXZlIHRlciBubyBtw6F4aW1vIDIwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgY29tcGxlbWVudG86IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICBtYXhsZW5ndGg6IFsxMDAsICdDb21wbGVtZW50byBkZXZlIHRlciBubyBtw6F4aW1vIDEwMCBjYXJhY3RlcmVzJ11cbiAgICB9LFxuICAgIGJhaXJybzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnQmFpcnJvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzEwMCwgJ0JhaXJybyBkZXZlIHRlciBubyBtw6F4aW1vIDEwMCBjYXJhY3RlcmVzJ11cbiAgICB9LFxuICAgIGNpZGFkZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnQ2lkYWRlIMOpIG9icmlnYXTDs3JpYSddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzEwMCwgJ0NpZGFkZSBkZXZlIHRlciBubyBtw6F4aW1vIDEwMCBjYXJhY3RlcmVzJ11cbiAgICB9LFxuICAgIGVzdGFkbzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRXN0YWRvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIGxlbmd0aDogWzIsICdFc3RhZG8gZGV2ZSB0ZXIgMiBjYXJhY3RlcmVzJ10sXG4gICAgICB1cHBlcmNhc2U6IHRydWVcbiAgICB9LFxuICAgIGNlcDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnQ0VQIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2VwOiBzdHJpbmcpIHtcbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gY2VwLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgICAgICAgICByZXR1cm4gY2xlYW5lZC5sZW5ndGggPT09IDhcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ0NFUCBkZXZlIHRlciA4IGTDrWdpdG9zJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgLy8gRGFkb3MgZXNwZWPDrWZpY29zIHBhcmEgYWR2b2NhY2lhIHByZXZpZGVuY2nDoXJpYVxuICBkYWRvc1ByZXZpZGVuY2lhcmlvczoge1xuICAgIG5pdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24obml0OiBzdHJpbmcpIHtcbiAgICAgICAgICBpZiAoIW5pdCkgcmV0dXJuIHRydWVcbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gbml0LnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgICAgICAgICByZXR1cm4gY2xlYW5lZC5sZW5ndGggPT09IDExXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdOSVQgZGV2ZSB0ZXIgMTEgZMOtZ2l0b3MnXG4gICAgICB9XG4gICAgfSxcbiAgICBudW1lcm9Qcm9jZXNzbzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzUwLCAnTsO6bWVybyBkbyBwcm9jZXNzbyBkZXZlIHRlciBubyBtw6F4aW1vIDUwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgdGlwb0JlbmVmaWNpbzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVGlwbyBkZSBiZW5lZsOtY2lvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgZW51bTogW1xuICAgICAgICAnYXBvc2VudGFkb3JpYV9pZGFkZScsXG4gICAgICAgICdhcG9zZW50YWRvcmlhX3RlbXBvX2NvbnRyaWJ1aWNhbycsXG4gICAgICAgICdhcG9zZW50YWRvcmlhX2VzcGVjaWFsJyxcbiAgICAgICAgJ2F1eGlsaW9fZG9lbmNhJyxcbiAgICAgICAgJ2F1eGlsaW9fYWNpZGVudGUnLFxuICAgICAgICAnYnBjX2RlZmljaWVuY2lhJyxcbiAgICAgICAgJ2JwY19pZG9zbycsXG4gICAgICAgICdwZW5zYW9fbW9ydGUnLFxuICAgICAgICAnc2FsYXJpb19tYXRlcm5pZGFkZScsXG4gICAgICAgICdvdXRyb3MnXG4gICAgICBdXG4gICAgfSxcbiAgICB2YWxvckJlbmVmaWNpbzoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgbWluOiBbMCwgJ1ZhbG9yIGRvIGJlbmVmw61jaW8gZGV2ZSBzZXIgcG9zaXRpdm8nXSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odmFsb3I6IG51bWJlcikge1xuICAgICAgICAgIGlmICghdmFsb3IpIHJldHVybiB0cnVlXG4gICAgICAgICAgcmV0dXJuIHZhbG9yID49IDAgJiYgdmFsb3IgPD0gMTAwMDAwMCAvLyBMaW1pdGUgbcOheGltbyByYXpvw6F2ZWxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1ZhbG9yIGRvIGJlbmVmw61jaW8gZGV2ZSBzZXIgdsOhbGlkbydcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGFJbmljaW9Qcm9jZXNzbzoge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oZGF0YTogRGF0ZSkge1xuICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuIHRydWVcbiAgICAgICAgICByZXR1cm4gZGF0YSA8PSBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdEYXRhIGRlIGluw61jaW8gZG8gcHJvY2Vzc28gbsOjbyBwb2RlIHNlciBubyBmdXR1cm8nXG4gICAgICB9XG4gICAgfSxcbiAgICBkYXRhVWx0aW1hUGVyaWNpYToge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oZGF0YTogRGF0ZSkge1xuICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuIHRydWVcbiAgICAgICAgICByZXR1cm4gZGF0YSA8PSBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdEYXRhIGRhIMO6bHRpbWEgcGVyw61jaWEgbsOjbyBwb2RlIHNlciBubyBmdXR1cm8nXG4gICAgICB9XG4gICAgfSxcbiAgICBwcm94aW1hUGVyaWNpYToge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oZGF0YTogRGF0ZSkge1xuICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuIHRydWVcbiAgICAgICAgICByZXR1cm4gZGF0YSA+PSBuZXcgRGF0ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICdEYXRhIGRhIHByw7N4aW1hIHBlcsOtY2lhIGRldmUgc2VyIG5vIGZ1dHVybydcbiAgICAgIH1cbiAgICB9LFxuICAgIG9ic2VydmFjb2VzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbWF4bGVuZ3RoOiBbMTAwMCwgJ09ic2VydmHDp8O1ZXMgZGV2ZW0gdGVyIG5vIG3DoXhpbW8gMTAwMCBjYXJhY3RlcmVzJ11cbiAgICB9XG4gIH0sXG4gIHN0YXR1c1Byb2Nlc3N1YWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnU3RhdHVzIHByb2Nlc3N1YWwgw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgZW51bTogW1xuICAgICAgJ2NvbnN1bHRhX2luaWNpYWwnLFxuICAgICAgJ2RvY3VtZW50YWNhb19wZW5kZW50ZScsXG4gICAgICAnYW5hbGlzZV9jYXNvJyxcbiAgICAgICdwcm90b2NvbG9faW5zcycsXG4gICAgICAnYWd1YXJkYW5kb19yZXNwb3N0YScsXG4gICAgICAncmVjdXJzb19jb250ZXN0YWNhbycsXG4gICAgICAnZGVmZXJpZG8nLFxuICAgICAgJ2luZGVmZXJpZG8nXG4gICAgXSxcbiAgICBkZWZhdWx0OiAnY29uc3VsdGFfaW5pY2lhbCdcbiAgfSxcbiAgZXNwZWNpYWxpZGFkZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdFc3BlY2lhbGlkYWRlIMOpIG9icmlnYXTDs3JpYSddLFxuICAgIGVudW06IFtcbiAgICAgICdhcG9zZW50YWRvcmlhX2lkYWRlJyxcbiAgICAgICdhcG9zZW50YWRvcmlhX3RlbXBvX2NvbnRyaWJ1aWNhbycsXG4gICAgICAnYXBvc2VudGFkb3JpYV9lc3BlY2lhbCcsXG4gICAgICAnYXV4aWxpb19kb2VuY2EnLFxuICAgICAgJ2JwYycsXG4gICAgICAncGVuc2FvX21vcnRlJyxcbiAgICAgICdyZXZpc2FvX2JlbmVmaWNpb3MnLFxuICAgICAgJ3BlcnNvbmFsaXphZGEnXG4gICAgXVxuICB9LFxuICBwcmlvcmlkYWRlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IFsnYmFpeGEnLCAnbm9ybWFsJywgJ2FsdGEnLCAndXJnZW50ZSddLFxuICAgIGRlZmF1bHQ6ICdub3JtYWwnXG4gIH0sXG4gIG9yaWdlbToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdPcmlnZW0gw6kgb2JyaWdhdMOzcmlhJ10sXG4gICAgZW51bTogWydpbmRpY2FjYW8nLCAnb25saW5lJywgJ3ByZXNlbmNpYWwnLCAnd2hhdHNhcHAnLCAnb3V0cm9zJ10sXG4gICAgZGVmYXVsdDogJ3ByZXNlbmNpYWwnXG4gIH0sXG4gIGFkdm9nYWRvUmVzcG9uc2F2ZWw6IHtcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiAnVXN1YXJpbycsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogYXN5bmMgZnVuY3Rpb24oYWR2b2dhZG9JZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQpIHtcbiAgICAgICAgaWYgKCFhZHZvZ2Fkb0lkKSByZXR1cm4gdHJ1ZVxuICAgICAgICBcbiAgICAgICAgLy8gVmVyaWZpY2Egc2UgbyBhZHZvZ2FkbyBleGlzdGUgZSBlc3TDoSBhdGl2byBuYSBtZXNtYSBlbXByZXNhXG4gICAgICAgIGNvbnN0IFVzdWFyaW8gPSBtb25nb29zZS5tb2RlbCgnVXN1YXJpbycpXG4gICAgICAgIGNvbnN0IGFkdm9nYWRvID0gYXdhaXQgVXN1YXJpby5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFkdm9nYWRvSWQsXG4gICAgICAgICAgZW1wcmVzYUlkOiB0aGlzLmVtcHJlc2FJZCxcbiAgICAgICAgICBhdGl2bzogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gISFhZHZvZ2Fkb1xuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdBZHZvZ2FkbyByZXNwb25zw6F2ZWwgZGV2ZSBzZXIgdsOhbGlkbyBlIGRhIG1lc21hIGVtcHJlc2EnXG4gICAgfVxuICB9LFxuICB0YWdzOiBbe1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0cmltOiB0cnVlLFxuICAgIG1heGxlbmd0aDogWzUwLCAnVGFnIGRldmUgdGVyIG5vIG3DoXhpbW8gNTAgY2FyYWN0ZXJlcyddXG4gIH1dLFxuICBkb2N1bWVudG9zOiBbe1xuICAgIG5vbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ05vbWUgZG8gZG9jdW1lbnRvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzIwMCwgJ05vbWUgZG8gZG9jdW1lbnRvIGRldmUgdGVyIG5vIG3DoXhpbW8gMjAwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgdGlwbzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVGlwbyBkbyBkb2N1bWVudG8gw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgICBlbnVtOiBbJ3BkZicsICdqcGcnLCAncG5nJywgJ2RvYycsICdkb2N4JywgJ3hscycsICd4bHN4JywgJ291dHJvcyddLFxuICAgICAgZGVmYXVsdDogJ3BkZidcbiAgICB9LFxuICAgIHVybDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVVJMIGRvIGRvY3VtZW50byDDqSBvYnJpZ2F0w7NyaWEnXSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICB2YWxpZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHVybDogc3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy4rLy50ZXN0KHVybCkgfHwgdXJsLnN0YXJ0c1dpdGgoJ2RhdGE6JylcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1VSTCBkbyBkb2N1bWVudG8gZGV2ZSBzZXIgdsOhbGlkYSdcbiAgICAgIH1cbiAgICB9LFxuICAgIGRhdGFVcGxvYWQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICAgIH0sXG4gICAgZW52aWFkbzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9XSxcbiAgYW5vdGFjb2VzOiBbe1xuICAgIHRleHRvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdUZXh0byBkYSBhbm90YcOnw6NvIMOpIG9icmlnYXTDs3JpbyddLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzIwMDAsICdBbm90YcOnw6NvIGRldmUgdGVyIG5vIG3DoXhpbW8gMjAwMCBjYXJhY3RlcmVzJ11cbiAgICB9LFxuICAgIGF1dG9yOiB7XG4gICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6ICdVc3VhcmlvJyxcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0F1dG9yIGRhIGFub3Rhw6fDo28gw6kgb2JyaWdhdMOzcmlvJ11cbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICAgIH0sXG4gICAgcHVibGljYToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9XSxcbiAgd2hhdHNhcHBOdW1lcm86IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihudW1lcm86IHN0cmluZykge1xuICAgICAgICBpZiAoIW51bWVybykgcmV0dXJuIHRydWVcbiAgICAgICAgY29uc3QgY2xlYW5lZCA9IG51bWVyby5yZXBsYWNlKC9cXEQvZywgJycpXG4gICAgICAgIHJldHVybiBjbGVhbmVkLmxlbmd0aCA+PSAxMCAmJiBjbGVhbmVkLmxlbmd0aCA8PSAxNVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdOw7ptZXJvIGRvIFdoYXRzQXBwIGRldmUgdGVyIGVudHJlIDEwIGUgMTUgZMOtZ2l0b3MnXG4gICAgfVxuICB9LFxuICBmb3RvOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oZm90bzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghZm90bykgcmV0dXJuIHRydWVcbiAgICAgICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy4rLy50ZXN0KGZvdG8pIHx8IGZvdG8uc3RhcnRzV2l0aCgnZGF0YTppbWFnZS8nKVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdGb3RvIGRldmUgc2VyIHVtYSBVUkwgdsOhbGlkYSBvdSBiYXNlNjQnXG4gICAgfVxuICB9LFxuICBhdGl2bzoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHsgXG4gICAgY3JlYXRlZEF0OiAnY3JpYWRvRW0nLCBcbiAgICB1cGRhdGVkQXQ6ICdhdHVhbGl6YWRvRW0nIFxuICB9LFxuICB2ZXJzaW9uS2V5OiBmYWxzZVxufSlcblxuLy8gw41uZGljZXMgY29tcG9zdG9zIHBhcmEgb3RpbWl6YcOnw6NvXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBjcGY6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSlcbkNsaWVudGVTY2hlbWEuaW5kZXgoeyBlbXByZXNhSWQ6IDEsIGF0aXZvOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBzdGF0dXNQcm9jZXNzdWFsOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBlc3BlY2lhbGlkYWRlOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBhZHZvZ2Fkb1Jlc3BvbnNhdmVsOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBwcmlvcmlkYWRlOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCB0YWdzOiAxIH0pXG5DbGllbnRlU2NoZW1hLmluZGV4KHsgbm9tZTogJ3RleHQnLCAnZGFkb3NQcmV2aWRlbmNpYXJpb3MubnVtZXJvUHJvY2Vzc28nOiAndGV4dCcgfSlcblxuLy8gTWlkZGxld2FyZSBwYXJhIGZvcm1hdGHDp8OjbyBhbnRlcyBkZSBzYWx2YXJcbkNsaWVudGVTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICAvLyBSZW1vdmUgZm9ybWF0YcOnw6NvIGRvIENQRlxuICBpZiAodGhpcy5jcGYpIHtcbiAgICB0aGlzLmNwZiA9IHRoaXMuY3BmLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgfVxuICBcbiAgLy8gUmVtb3ZlIGZvcm1hdGHDp8OjbyBkbyBOSVRcbiAgaWYgKHRoaXMuZGFkb3NQcmV2aWRlbmNpYXJpb3M/Lm5pdCkge1xuICAgIHRoaXMuZGFkb3NQcmV2aWRlbmNpYXJpb3Mubml0ID0gdGhpcy5kYWRvc1ByZXZpZGVuY2lhcmlvcy5uaXQucmVwbGFjZSgvXFxEL2csICcnKVxuICB9XG4gIFxuICAvLyBSZW1vdmUgZm9ybWF0YcOnw6NvIGRvIENFUFxuICBpZiAodGhpcy5lbmRlcmVjbz8uY2VwKSB7XG4gICAgdGhpcy5lbmRlcmVjby5jZXAgPSB0aGlzLmVuZGVyZWNvLmNlcC5yZXBsYWNlKC9cXEQvZywgJycpXG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBmb3JtYXRhw6fDo28gZG8gdGVsZWZvbmVcbiAgaWYgKHRoaXMudGVsZWZvbmUpIHtcbiAgICB0aGlzLnRlbGVmb25lID0gdGhpcy50ZWxlZm9uZS5yZXBsYWNlKC9cXEQvZywgJycpXG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBmb3JtYXRhw6fDo28gZG8gV2hhdHNBcHBcbiAgaWYgKHRoaXMud2hhdHNhcHBOdW1lcm8pIHtcbiAgICB0aGlzLndoYXRzYXBwTnVtZXJvID0gdGhpcy53aGF0c2FwcE51bWVyby5yZXBsYWNlKC9cXEQvZywgJycpXG4gIH1cbiAgXG4gIG5leHQoKVxufSlcblxuLy8gVmlydHVhbCBwYXJhIGlkYWRlXG5DbGllbnRlU2NoZW1hLnZpcnR1YWwoJ2lkYWRlJykuZ2V0KGZ1bmN0aW9uKCkge1xuICBjb25zdCBob2plID0gbmV3IERhdGUoKVxuICBjb25zdCBuYXNjaW1lbnRvID0gdGhpcy5kYXRhTmFzY2ltZW50b1xuICBsZXQgaWRhZGUgPSBob2plLmdldEZ1bGxZZWFyKCkgLSBuYXNjaW1lbnRvLmdldEZ1bGxZZWFyKClcbiAgY29uc3QgbWVzID0gaG9qZS5nZXRNb250aCgpIC0gbmFzY2ltZW50by5nZXRNb250aCgpXG4gIFxuICBpZiAobWVzIDwgMCB8fCAobWVzID09PSAwICYmIGhvamUuZ2V0RGF0ZSgpIDwgbmFzY2ltZW50by5nZXREYXRlKCkpKSB7XG4gICAgaWRhZGUtLVxuICB9XG4gIFxuICByZXR1cm4gaWRhZGVcbn0pXG5cbi8vIFZpcnR1YWwgcGFyYSBub21lIGZvcm1hdGFkb1xuQ2xpZW50ZVNjaGVtYS52aXJ0dWFsKCdub21lRm9ybWF0YWRvJykuZ2V0KGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub21lLnNwbGl0KCcgJykubWFwKChwYWxhdnJhOiBzdHJpbmcpID0+IFxuICAgIHBhbGF2cmEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYWxhdnJhLnNsaWNlKDEpLnRvTG93ZXJDYXNlKClcbiAgKS5qb2luKCcgJylcbn0pXG5cbi8vIFZpcnR1YWwgcGFyYSBpbmljaWFpc1xuQ2xpZW50ZVNjaGVtYS52aXJ0dWFsKCdpbmljaWFpcycpLmdldChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubm9tZVxuICAgIC5zcGxpdCgnICcpXG4gICAgLm1hcCgocGFsYXZyYTogc3RyaW5nKSA9PiBwYWxhdnJhLmNoYXJBdCgwKSlcbiAgICAuam9pbignJylcbiAgICAudG9VcHBlckNhc2UoKVxuICAgIC5zdWJzdHJpbmcoMCwgMilcbn0pXG5cbi8vIE3DqXRvZG9zIGRvIG1vZGVsb1xuQ2xpZW50ZVNjaGVtYS5tZXRob2RzLmFkaWNpb25hckFub3RhY2FvID0gZnVuY3Rpb24odGV4dG86IHN0cmluZywgYXV0b3JJZDogc3RyaW5nLCBwdWJsaWNhOiBib29sZWFuID0gZmFsc2UpIHtcbiAgdGhpcy5hbm90YWNvZXMucHVzaCh7XG4gICAgdGV4dG8sXG4gICAgYXV0b3I6IGF1dG9ySWQsXG4gICAgZGF0YTogbmV3IERhdGUoKSxcbiAgICBwdWJsaWNhXG4gIH0pXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG5DbGllbnRlU2NoZW1hLm1ldGhvZHMuYWx0ZXJhclN0YXR1cyA9IGZ1bmN0aW9uKG5vdm9TdGF0dXM6IHN0cmluZykge1xuICB0aGlzLnN0YXR1c1Byb2Nlc3N1YWwgPSBub3ZvU3RhdHVzXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG5DbGllbnRlU2NoZW1hLm1ldGhvZHMuYXRyaWJ1aXJBZHZvZ2FkbyA9IGZ1bmN0aW9uKGFkdm9nYWRvSWQ6IHN0cmluZykge1xuICB0aGlzLmFkdm9nYWRvUmVzcG9uc2F2ZWwgPSBhZHZvZ2Fkb0lkXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG4vLyBNw6l0b2RvcyBlc3TDoXRpY29zXG5DbGllbnRlU2NoZW1hLnN0YXRpY3MuZmluZEJ5RW1wcmVzYSA9IGZ1bmN0aW9uKGVtcHJlc2FJZDogc3RyaW5nLCBmaWx0cm9zOiBhbnkgPSB7fSkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgXG4gICAgZW1wcmVzYUlkLCBcbiAgICBhdGl2bzogdHJ1ZSxcbiAgICAuLi5maWx0cm9zIFxuICB9KS5wb3B1bGF0ZSgnYWR2b2dhZG9SZXNwb25zYXZlbCcsICdub21lIGVtYWlsIGVzcGVjaWFsaWRhZGVzJylcbn1cblxuQ2xpZW50ZVNjaGVtYS5zdGF0aWNzLmZpbmRCeVN0YXR1cyA9IGZ1bmN0aW9uKGVtcHJlc2FJZDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZykge1xuICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICBlbXByZXNhSWQsXG4gICAgYXRpdm86IHRydWUsXG4gICAgc3RhdHVzUHJvY2Vzc3VhbDogc3RhdHVzXG4gIH0pLnBvcHVsYXRlKCdhZHZvZ2Fkb1Jlc3BvbnNhdmVsJywgJ25vbWUgZW1haWwnKVxufVxuXG5DbGllbnRlU2NoZW1hLnN0YXRpY3MuZmluZEJ5QWR2b2dhZG8gPSBmdW5jdGlvbihlbXByZXNhSWQ6IHN0cmluZywgYWR2b2dhZG9JZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoe1xuICAgIGVtcHJlc2FJZCxcbiAgICBhdGl2bzogdHJ1ZSxcbiAgICBhZHZvZ2Fkb1Jlc3BvbnNhdmVsOiBhZHZvZ2Fkb0lkXG4gIH0pXG59XG5cbkNsaWVudGVTY2hlbWEuc3RhdGljcy5jb3VudEJ5RW1wcmVzYSA9IGZ1bmN0aW9uKGVtcHJlc2FJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmNvdW50RG9jdW1lbnRzKHsgZW1wcmVzYUlkLCBhdGl2bzogdHJ1ZSB9KVxufVxuXG5DbGllbnRlU2NoZW1hLnN0YXRpY3MuY291bnRCeVN0YXR1cyA9IGZ1bmN0aW9uKGVtcHJlc2FJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZShbXG4gICAgeyAkbWF0Y2g6IHsgZW1wcmVzYUlkOiBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQoZW1wcmVzYUlkKSwgYXRpdm86IHRydWUgfSB9LFxuICAgIHsgJGdyb3VwOiB7IF9pZDogJyRzdGF0dXNQcm9jZXNzdWFsJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfVxuICBdKVxufVxuXG5DbGllbnRlU2NoZW1hLnN0YXRpY3MuY291bnRCeUVzcGVjaWFsaWRhZGUgPSBmdW5jdGlvbihlbXByZXNhSWQ6IHN0cmluZykge1xuICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoW1xuICAgIHsgJG1hdGNoOiB7IGVtcHJlc2FJZDogbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKGVtcHJlc2FJZCksIGF0aXZvOiB0cnVlIH0gfSxcbiAgICB7ICRncm91cDogeyBfaWQ6ICckZXNwZWNpYWxpZGFkZScsIGNvdW50OiB7ICRzdW06IDEgfSB9IH1cbiAgXSlcbn1cblxuLy8gVHJhbnNmb3JtYXRpb24gcGFyYSBKU09OXG5DbGllbnRlU2NoZW1hLnNldCgndG9KU09OJywge1xuICB2aXJ0dWFsczogdHJ1ZSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgIGRlbGV0ZSByZXQuX192XG4gICAgcmV0dXJuIHJldFxuICB9XG59KVxuXG5jb25zdCBDbGllbnRlID0gbW9uZ29vc2UubW9kZWxzLkNsaWVudGUgfHwgbW9uZ29vc2UubW9kZWw8Q2xpZW50ZURvY3VtZW50PignQ2xpZW50ZScsIENsaWVudGVTY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IENsaWVudGUgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiQ2xpZW50ZVNjaGVtYSIsImVtcHJlc2FJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbmRleCIsIm5vbWUiLCJTdHJpbmciLCJ0cmltIiwibWF4bGVuZ3RoIiwiY3BmIiwidW5pcXVlIiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJjbGVhbmVkIiwicmVwbGFjZSIsImxlbmd0aCIsIm1lc3NhZ2UiLCJyZyIsImRhdGFOYXNjaW1lbnRvIiwiRGF0ZSIsImRhdGEiLCJob2plIiwiaWRhZGUiLCJnZXRGdWxsWWVhciIsInRlbGVmb25lIiwiZW1haWwiLCJsb3dlcmNhc2UiLCJ0ZXN0IiwiZW5kZXJlY28iLCJydWEiLCJudW1lcm8iLCJjb21wbGVtZW50byIsImJhaXJybyIsImNpZGFkZSIsImVzdGFkbyIsInVwcGVyY2FzZSIsImNlcCIsImRhZG9zUHJldmlkZW5jaWFyaW9zIiwibml0IiwibnVtZXJvUHJvY2Vzc28iLCJ0aXBvQmVuZWZpY2lvIiwiZW51bSIsInZhbG9yQmVuZWZpY2lvIiwiTnVtYmVyIiwibWluIiwidmFsb3IiLCJkYXRhSW5pY2lvUHJvY2Vzc28iLCJkYXRhVWx0aW1hUGVyaWNpYSIsInByb3hpbWFQZXJpY2lhIiwib2JzZXJ2YWNvZXMiLCJzdGF0dXNQcm9jZXNzdWFsIiwiZGVmYXVsdCIsImVzcGVjaWFsaWRhZGUiLCJwcmlvcmlkYWRlIiwib3JpZ2VtIiwiYWR2b2dhZG9SZXNwb25zYXZlbCIsImFkdm9nYWRvSWQiLCJVc3VhcmlvIiwibW9kZWwiLCJhZHZvZ2FkbyIsImZpbmRPbmUiLCJfaWQiLCJhdGl2byIsInRhZ3MiLCJkb2N1bWVudG9zIiwidGlwbyIsInVybCIsInN0YXJ0c1dpdGgiLCJkYXRhVXBsb2FkIiwibm93IiwiZW52aWFkbyIsIkJvb2xlYW4iLCJhbm90YWNvZXMiLCJ0ZXh0byIsImF1dG9yIiwicHVibGljYSIsIndoYXRzYXBwTnVtZXJvIiwiZm90byIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJ2ZXJzaW9uS2V5IiwicHJlIiwibmV4dCIsInZpcnR1YWwiLCJnZXQiLCJuYXNjaW1lbnRvIiwibWVzIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwic3BsaXQiLCJtYXAiLCJwYWxhdnJhIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwiam9pbiIsInN1YnN0cmluZyIsIm1ldGhvZHMiLCJhZGljaW9uYXJBbm90YWNhbyIsImF1dG9ySWQiLCJwdXNoIiwic2F2ZSIsImFsdGVyYXJTdGF0dXMiLCJub3ZvU3RhdHVzIiwiYXRyaWJ1aXJBZHZvZ2FkbyIsInN0YXRpY3MiLCJmaW5kQnlFbXByZXNhIiwiZmlsdHJvcyIsImZpbmQiLCJwb3B1bGF0ZSIsImZpbmRCeVN0YXR1cyIsInN0YXR1cyIsImZpbmRCeUFkdm9nYWRvIiwiY291bnRCeUVtcHJlc2EiLCJjb3VudERvY3VtZW50cyIsImNvdW50QnlTdGF0dXMiLCJhZ2dyZWdhdGUiLCIkbWF0Y2giLCIkZ3JvdXAiLCJjb3VudCIsIiRzdW0iLCJjb3VudEJ5RXNwZWNpYWxpZGFkZSIsInNldCIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwiX192IiwiQ2xpZW50ZSIsIm1vZGVscyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Cliente.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Empresa.ts":
/*!*******************************!*\
  !*** ./src/models/Empresa.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst EmpresaSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    nome: {\n        type: String,\n        required: [\n            true,\n            'Nome da empresa Ã© obrigatÃ³rio'\n        ],\n        trim: true,\n        maxlength: [\n            100,\n            'Nome deve ter no mÃ¡ximo 100 caracteres'\n        ]\n    },\n    cnpj: {\n        type: String,\n        required: [\n            true,\n            'CNPJ Ã© obrigatÃ³rio'\n        ],\n        unique: true,\n        trim: true,\n        validate: {\n            validator: function(cnpj) {\n                // Remove formataÃ§Ã£o e valida se tem 14 dÃ­gitos\n                const cleaned = cnpj.replace(/\\D/g, '');\n                return cleaned.length === 14;\n            },\n            message: 'CNPJ deve ter 14 dÃ­gitos'\n        }\n    },\n    endereco: {\n        rua: {\n            type: String,\n            required: [\n                true,\n                'Rua Ã© obrigatÃ³ria'\n            ],\n            trim: true,\n            maxlength: [\n                200,\n                'Rua deve ter no mÃ¡ximo 200 caracteres'\n            ]\n        },\n        numero: {\n            type: String,\n            required: [\n                true,\n                'NÃºmero Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            maxlength: [\n                20,\n                'NÃºmero deve ter no mÃ¡ximo 20 caracteres'\n            ]\n        },\n        complemento: {\n            type: String,\n            trim: true,\n            maxlength: [\n                100,\n                'Complemento deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        bairro: {\n            type: String,\n            required: [\n                true,\n                'Bairro Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            maxlength: [\n                100,\n                'Bairro deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        cidade: {\n            type: String,\n            required: [\n                true,\n                'Cidade Ã© obrigatÃ³ria'\n            ],\n            trim: true,\n            maxlength: [\n                100,\n                'Cidade deve ter no mÃ¡ximo 100 caracteres'\n            ]\n        },\n        estado: {\n            type: String,\n            required: [\n                true,\n                'Estado Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            length: [\n                2,\n                'Estado deve ter 2 caracteres'\n            ],\n            uppercase: true\n        },\n        cep: {\n            type: String,\n            required: [\n                true,\n                'CEP Ã© obrigatÃ³rio'\n            ],\n            trim: true,\n            validate: {\n                validator: function(cep) {\n                    const cleaned = cep.replace(/\\D/g, '');\n                    return cleaned.length === 8;\n                },\n                message: 'CEP deve ter 8 dÃ­gitos'\n            }\n        }\n    },\n    telefone: {\n        type: String,\n        required: [\n            true,\n            'Telefone Ã© obrigatÃ³rio'\n        ],\n        trim: true,\n        validate: {\n            validator: function(telefone) {\n                const cleaned = telefone.replace(/\\D/g, '');\n                return cleaned.length >= 10 && cleaned.length <= 11;\n            },\n            message: 'Telefone deve ter 10 ou 11 dÃ­gitos'\n        }\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            'Email Ã© obrigatÃ³rio'\n        ],\n        unique: true,\n        trim: true,\n        lowercase: true,\n        validate: {\n            validator: function(email) {\n                return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n            },\n            message: 'Email deve ter um formato vÃ¡lido'\n        }\n    },\n    website: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(website) {\n                if (!website) return true;\n                return /^https?:\\/\\/.+/.test(website);\n            },\n            message: 'Website deve comeÃ§ar com http:// ou https://'\n        }\n    },\n    status: {\n        type: String,\n        enum: {\n            values: [\n                'ativa',\n                'suspensa',\n                'trial',\n                'inativa'\n            ],\n            message: 'Status deve ser: ativa, suspensa, trial ou inativa'\n        },\n        default: 'trial'\n    },\n    configuracoes: {\n        limitesClientes: {\n            type: Number,\n            default: 100,\n            min: [\n                1,\n                'Limite de clientes deve ser no mÃ­nimo 1'\n            ],\n            max: [\n                10000,\n                'Limite de clientes deve ser no mÃ¡ximo 10.000'\n            ]\n        },\n        limitesUsuarios: {\n            type: Number,\n            default: 5,\n            min: [\n                1,\n                'Limite de usuÃ¡rios deve ser no mÃ­nimo 1'\n            ],\n            max: [\n                100,\n                'Limite de usuÃ¡rios deve ser no mÃ¡ximo 100'\n            ]\n        },\n        limitesInstanciasWhatsApp: {\n            type: Number,\n            default: 1,\n            min: [\n                1,\n                'Limite de instÃ¢ncias WhatsApp deve ser no mÃ­nimo 1'\n            ],\n            max: [\n                10,\n                'Limite de instÃ¢ncias WhatsApp deve ser no mÃ¡ximo 10'\n            ]\n        },\n        tema: {\n            type: String,\n            default: 'light',\n            enum: [\n                'light',\n                'dark'\n            ]\n        },\n        personalizacao: {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Mixed,\n            default: {}\n        }\n    },\n    dataVencimento: {\n        type: Date,\n        validate: {\n            validator: function(data) {\n                return !data || data > new Date();\n            },\n            message: 'Data de vencimento deve ser no futuro'\n        }\n    }\n}, {\n    timestamps: {\n        createdAt: 'criadoEm',\n        updatedAt: 'atualizadoEm'\n    },\n    versionKey: false\n});\n// Ãndices para otimizaÃ§Ã£o de consultas\nEmpresaSchema.index({\n    cnpj: 1\n});\nEmpresaSchema.index({\n    email: 1\n});\nEmpresaSchema.index({\n    status: 1\n});\nEmpresaSchema.index({\n    'configuracoes.limitesClientes': 1\n});\n// Middleware para formataÃ§Ã£o antes de salvar\nEmpresaSchema.pre('save', function(next) {\n    // Remove formataÃ§Ã£o do CNPJ\n    if (this.cnpj) {\n        this.cnpj = this.cnpj.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do CEP\n    if (this.endereco?.cep) {\n        this.endereco.cep = this.endereco.cep.replace(/\\D/g, '');\n    }\n    // Remove formataÃ§Ã£o do telefone\n    if (this.telefone) {\n        this.telefone = this.telefone.replace(/\\D/g, '');\n    }\n    next();\n});\n// MÃ©todos do modelo\nEmpresaSchema.methods.isAtiva = function() {\n    return this.status === 'ativa' && (!this.dataVencimento || this.dataVencimento > new Date());\n};\nEmpresaSchema.methods.podeAdicionarClientes = function(quantidadeAtual) {\n    return quantidadeAtual < this.configuracoes.limitesClientes;\n};\nEmpresaSchema.methods.podeAdicionarUsuarios = function(quantidadeAtual) {\n    return quantidadeAtual < this.configuracoes.limitesUsuarios;\n};\nEmpresaSchema.methods.podeAdicionarInstanciasWhatsApp = function(quantidadeAtual) {\n    return quantidadeAtual < this.configuracoes.limitesInstanciasWhatsApp;\n};\n// MÃ©todo estÃ¡tico para buscar empresa ativa\nEmpresaSchema.statics.findAtiva = function(id) {\n    return this.findOne({\n        _id: id,\n        status: 'ativa',\n        $or: [\n            {\n                dataVencimento: {\n                    $exists: false\n                }\n            },\n            {\n                dataVencimento: {\n                    $gt: new Date()\n                }\n            }\n        ]\n    });\n};\nconst Empresa = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Empresa || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Empresa', EmpresaSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Empresa);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSx5QkFBeUI7QUFDdkU7QUFFQSw0Q0FBNEM7QUFDNUN2QyxjQUFjNEQsT0FBTyxDQUFDQyxTQUFTLEdBQUcsU0FBU0MsRUFBVTtJQUNuRCxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQ2xCQyxLQUFLRjtRQUNMakMsUUFBUTtRQUNSb0MsS0FBSztZQUNIO2dCQUFFckIsZ0JBQWdCO29CQUFFc0IsU0FBUztnQkFBTTtZQUFFO1lBQ3JDO2dCQUFFdEIsZ0JBQWdCO29CQUFFdUIsS0FBSyxJQUFJdEI7Z0JBQU87WUFBRTtTQUN2QztJQUNIO0FBQ0Y7QUFFQSxNQUFNdUIsVUFBVXRFLHdEQUFlLENBQUNzRSxPQUFPLElBQUl0RSxxREFBYyxDQUFrQixXQUFXRTtBQUV0RixpRUFBZW9FLE9BQU9BLEVBQUEiLCJzb3VyY2VzIjpbIi9ob21lL20vcGFuZG9yYXByb3YzL3NyYy9tb2RlbHMvRW1wcmVzYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IHsgRW1wcmVzYSBhcyBJRW1wcmVzYSB9IGZyb20gJ0AvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1wcmVzYURvY3VtZW50IGV4dGVuZHMgT21pdDxJRW1wcmVzYSwgJ19pZCc+LCBEb2N1bWVudCB7fVxuXG5jb25zdCBFbXByZXNhU2NoZW1hID0gbmV3IFNjaGVtYTxFbXByZXNhRG9jdW1lbnQ+KHtcbiAgbm9tZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdOb21lIGRhIGVtcHJlc2Egw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXhsZW5ndGg6IFsxMDAsICdOb21lIGRldmUgdGVyIG5vIG3DoXhpbW8gMTAwIGNhcmFjdGVyZXMnXVxuICB9LFxuICBjbnBqOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0NOUEogw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIHRyaW06IHRydWUsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY25wajogc3RyaW5nKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmb3JtYXRhw6fDo28gZSB2YWxpZGEgc2UgdGVtIDE0IGTDrWdpdG9zXG4gICAgICAgIGNvbnN0IGNsZWFuZWQgPSBjbnBqLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWQubGVuZ3RoID09PSAxNFxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdDTlBKIGRldmUgdGVyIDE0IGTDrWdpdG9zJ1xuICAgIH1cbiAgfSxcbiAgZW5kZXJlY286IHtcbiAgICBydWE6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1J1YSDDqSBvYnJpZ2F0w7NyaWEnXSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICBtYXhsZW5ndGg6IFsyMDAsICdSdWEgZGV2ZSB0ZXIgbm8gbcOheGltbyAyMDAgY2FyYWN0ZXJlcyddXG4gICAgfSxcbiAgICBudW1lcm86IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ07Dum1lcm8gw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbWF4bGVuZ3RoOiBbMjAsICdOw7ptZXJvIGRldmUgdGVyIG5vIG3DoXhpbW8gMjAgY2FyYWN0ZXJlcyddXG4gICAgfSxcbiAgICBjb21wbGVtZW50bzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIG1heGxlbmd0aDogWzEwMCwgJ0NvbXBsZW1lbnRvIGRldmUgdGVyIG5vIG3DoXhpbW8gMTAwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgYmFpcnJvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdCYWlycm8gw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbWF4bGVuZ3RoOiBbMTAwLCAnQmFpcnJvIGRldmUgdGVyIG5vIG3DoXhpbW8gMTAwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgY2lkYWRlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdDaWRhZGUgw6kgb2JyaWdhdMOzcmlhJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbWF4bGVuZ3RoOiBbMTAwLCAnQ2lkYWRlIGRldmUgdGVyIG5vIG3DoXhpbW8gMTAwIGNhcmFjdGVyZXMnXVxuICAgIH0sXG4gICAgZXN0YWRvOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdFc3RhZG8gw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgbGVuZ3RoOiBbMiwgJ0VzdGFkbyBkZXZlIHRlciAyIGNhcmFjdGVyZXMnXSxcbiAgICAgIHVwcGVyY2FzZTogdHJ1ZVxuICAgIH0sXG4gICAgY2VwOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdDRVAgw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgICB0cmltOiB0cnVlLFxuICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjZXA6IHN0cmluZykge1xuICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBjZXAucmVwbGFjZSgvXFxEL2csICcnKVxuICAgICAgICAgIHJldHVybiBjbGVhbmVkLmxlbmd0aCA9PT0gOFxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnQ0VQIGRldmUgdGVyIDggZMOtZ2l0b3MnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0ZWxlZm9uZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdUZWxlZm9uZSDDqSBvYnJpZ2F0w7NyaW8nXSxcbiAgICB0cmltOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHRlbGVmb25lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2xlYW5lZCA9IHRlbGVmb25lLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWQubGVuZ3RoID49IDEwICYmIGNsZWFuZWQubGVuZ3RoIDw9IDExXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ1RlbGVmb25lIGRldmUgdGVyIDEwIG91IDExIGTDrWdpdG9zJ1xuICAgIH1cbiAgfSxcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgw6kgb2JyaWdhdMOzcmlvJ10sXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIHRyaW06IHRydWUsXG4gICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGVtYWlsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoZW1haWwpXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ0VtYWlsIGRldmUgdGVyIHVtIGZvcm1hdG8gdsOhbGlkbydcbiAgICB9XG4gIH0sXG4gIHdlYnNpdGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih3ZWJzaXRlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF3ZWJzaXRlKSByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gL15odHRwcz86XFwvXFwvLisvLnRlc3Qod2Vic2l0ZSlcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiAnV2Vic2l0ZSBkZXZlIGNvbWXDp2FyIGNvbSBodHRwOi8vIG91IGh0dHBzOi8vJ1xuICAgIH1cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IHtcbiAgICAgIHZhbHVlczogWydhdGl2YScsICdzdXNwZW5zYScsICd0cmlhbCcsICdpbmF0aXZhJ10sXG4gICAgICBtZXNzYWdlOiAnU3RhdHVzIGRldmUgc2VyOiBhdGl2YSwgc3VzcGVuc2EsIHRyaWFsIG91IGluYXRpdmEnXG4gICAgfSxcbiAgICBkZWZhdWx0OiAndHJpYWwnXG4gIH0sXG4gIGNvbmZpZ3VyYWNvZXM6IHtcbiAgICBsaW1pdGVzQ2xpZW50ZXM6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDEwMCxcbiAgICAgIG1pbjogWzEsICdMaW1pdGUgZGUgY2xpZW50ZXMgZGV2ZSBzZXIgbm8gbcOtbmltbyAxJ10sXG4gICAgICBtYXg6IFsxMDAwMCwgJ0xpbWl0ZSBkZSBjbGllbnRlcyBkZXZlIHNlciBubyBtw6F4aW1vIDEwLjAwMCddXG4gICAgfSxcbiAgICBsaW1pdGVzVXN1YXJpb3M6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDUsXG4gICAgICBtaW46IFsxLCAnTGltaXRlIGRlIHVzdcOhcmlvcyBkZXZlIHNlciBubyBtw61uaW1vIDEnXSxcbiAgICAgIG1heDogWzEwMCwgJ0xpbWl0ZSBkZSB1c3XDoXJpb3MgZGV2ZSBzZXIgbm8gbcOheGltbyAxMDAnXVxuICAgIH0sXG4gICAgbGltaXRlc0luc3RhbmNpYXNXaGF0c0FwcDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMSxcbiAgICAgIG1pbjogWzEsICdMaW1pdGUgZGUgaW5zdMOibmNpYXMgV2hhdHNBcHAgZGV2ZSBzZXIgbm8gbcOtbmltbyAxJ10sXG4gICAgICBtYXg6IFsxMCwgJ0xpbWl0ZSBkZSBpbnN0w6JuY2lhcyBXaGF0c0FwcCBkZXZlIHNlciBubyBtw6F4aW1vIDEwJ11cbiAgICB9LFxuICAgIHRlbWE6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdsaWdodCcsXG4gICAgICBlbnVtOiBbJ2xpZ2h0JywgJ2RhcmsnXVxuICAgIH0sXG4gICAgcGVyc29uYWxpemFjYW86IHtcbiAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5NaXhlZCxcbiAgICAgIGRlZmF1bHQ6IHt9XG4gICAgfVxuICB9LFxuICBkYXRhVmVuY2ltZW50bzoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oZGF0YTogRGF0ZSkge1xuICAgICAgICByZXR1cm4gIWRhdGEgfHwgZGF0YSA+IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiAnRGF0YSBkZSB2ZW5jaW1lbnRvIGRldmUgc2VyIG5vIGZ1dHVybydcbiAgICB9XG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogeyBcbiAgICBjcmVhdGVkQXQ6ICdjcmlhZG9FbScsIFxuICAgIHVwZGF0ZWRBdDogJ2F0dWFsaXphZG9FbScgXG4gIH0sXG4gIHZlcnNpb25LZXk6IGZhbHNlXG59KVxuXG4vLyDDjW5kaWNlcyBwYXJhIG90aW1pemHDp8OjbyBkZSBjb25zdWx0YXNcbkVtcHJlc2FTY2hlbWEuaW5kZXgoeyBjbnBqOiAxIH0pXG5FbXByZXNhU2NoZW1hLmluZGV4KHsgZW1haWw6IDEgfSlcbkVtcHJlc2FTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSlcbkVtcHJlc2FTY2hlbWEuaW5kZXgoeyAnY29uZmlndXJhY29lcy5saW1pdGVzQ2xpZW50ZXMnOiAxIH0pXG5cbi8vIE1pZGRsZXdhcmUgcGFyYSBmb3JtYXRhw6fDo28gYW50ZXMgZGUgc2FsdmFyXG5FbXByZXNhU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgLy8gUmVtb3ZlIGZvcm1hdGHDp8OjbyBkbyBDTlBKXG4gIGlmICh0aGlzLmNucGopIHtcbiAgICB0aGlzLmNucGogPSB0aGlzLmNucGoucmVwbGFjZSgvXFxEL2csICcnKVxuICB9XG4gIFxuICAvLyBSZW1vdmUgZm9ybWF0YcOnw6NvIGRvIENFUFxuICBpZiAodGhpcy5lbmRlcmVjbz8uY2VwKSB7XG4gICAgdGhpcy5lbmRlcmVjby5jZXAgPSB0aGlzLmVuZGVyZWNvLmNlcC5yZXBsYWNlKC9cXEQvZywgJycpXG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBmb3JtYXRhw6fDo28gZG8gdGVsZWZvbmVcbiAgaWYgKHRoaXMudGVsZWZvbmUpIHtcbiAgICB0aGlzLnRlbGVmb25lID0gdGhpcy50ZWxlZm9uZS5yZXBsYWNlKC9cXEQvZywgJycpXG4gIH1cbiAgXG4gIG5leHQoKVxufSlcblxuLy8gTcOpdG9kb3MgZG8gbW9kZWxvXG5FbXByZXNhU2NoZW1hLm1ldGhvZHMuaXNBdGl2YSA9IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICdhdGl2YScgJiYgKCF0aGlzLmRhdGFWZW5jaW1lbnRvIHx8IHRoaXMuZGF0YVZlbmNpbWVudG8gPiBuZXcgRGF0ZSgpKVxufVxuXG5FbXByZXNhU2NoZW1hLm1ldGhvZHMucG9kZUFkaWNpb25hckNsaWVudGVzID0gZnVuY3Rpb24ocXVhbnRpZGFkZUF0dWFsOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHF1YW50aWRhZGVBdHVhbCA8IHRoaXMuY29uZmlndXJhY29lcy5saW1pdGVzQ2xpZW50ZXNcbn1cblxuRW1wcmVzYVNjaGVtYS5tZXRob2RzLnBvZGVBZGljaW9uYXJVc3VhcmlvcyA9IGZ1bmN0aW9uKHF1YW50aWRhZGVBdHVhbDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiBxdWFudGlkYWRlQXR1YWwgPCB0aGlzLmNvbmZpZ3VyYWNvZXMubGltaXRlc1VzdWFyaW9zXG59XG5cbkVtcHJlc2FTY2hlbWEubWV0aG9kcy5wb2RlQWRpY2lvbmFySW5zdGFuY2lhc1doYXRzQXBwID0gZnVuY3Rpb24ocXVhbnRpZGFkZUF0dWFsOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHF1YW50aWRhZGVBdHVhbCA8IHRoaXMuY29uZmlndXJhY29lcy5saW1pdGVzSW5zdGFuY2lhc1doYXRzQXBwXG59XG5cbi8vIE3DqXRvZG8gZXN0w6F0aWNvIHBhcmEgYnVzY2FyIGVtcHJlc2EgYXRpdmFcbkVtcHJlc2FTY2hlbWEuc3RhdGljcy5maW5kQXRpdmEgPSBmdW5jdGlvbihpZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmRPbmUoeyBcbiAgICBfaWQ6IGlkLCBcbiAgICBzdGF0dXM6ICdhdGl2YScsXG4gICAgJG9yOiBbXG4gICAgICB7IGRhdGFWZW5jaW1lbnRvOiB7ICRleGlzdHM6IGZhbHNlIH0gfSxcbiAgICAgIHsgZGF0YVZlbmNpbWVudG86IHsgJGd0OiBuZXcgRGF0ZSgpIH0gfVxuICAgIF1cbiAgfSlcbn1cblxuY29uc3QgRW1wcmVzYSA9IG1vbmdvb3NlLm1vZGVscy5FbXByZXNhIHx8IG1vbmdvb3NlLm1vZGVsPEVtcHJlc2FEb2N1bWVudD4oJ0VtcHJlc2EnLCBFbXByZXNhU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBFbXByZXNhICJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIkVtcHJlc2FTY2hlbWEiLCJub21lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1heGxlbmd0aCIsImNucGoiLCJ1bmlxdWUiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsImNsZWFuZWQiLCJyZXBsYWNlIiwibGVuZ3RoIiwibWVzc2FnZSIsImVuZGVyZWNvIiwicnVhIiwibnVtZXJvIiwiY29tcGxlbWVudG8iLCJiYWlycm8iLCJjaWRhZGUiLCJlc3RhZG8iLCJ1cHBlcmNhc2UiLCJjZXAiLCJ0ZWxlZm9uZSIsImVtYWlsIiwibG93ZXJjYXNlIiwidGVzdCIsIndlYnNpdGUiLCJzdGF0dXMiLCJlbnVtIiwidmFsdWVzIiwiZGVmYXVsdCIsImNvbmZpZ3VyYWNvZXMiLCJsaW1pdGVzQ2xpZW50ZXMiLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJsaW1pdGVzVXN1YXJpb3MiLCJsaW1pdGVzSW5zdGFuY2lhc1doYXRzQXBwIiwidGVtYSIsInBlcnNvbmFsaXphY2FvIiwiVHlwZXMiLCJNaXhlZCIsImRhdGFWZW5jaW1lbnRvIiwiRGF0ZSIsImRhdGEiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwidmVyc2lvbktleSIsImluZGV4IiwicHJlIiwibmV4dCIsIm1ldGhvZHMiLCJpc0F0aXZhIiwicG9kZUFkaWNpb25hckNsaWVudGVzIiwicXVhbnRpZGFkZUF0dWFsIiwicG9kZUFkaWNpb25hclVzdWFyaW9zIiwicG9kZUFkaWNpb25hckluc3RhbmNpYXNXaGF0c0FwcCIsInN0YXRpY3MiLCJmaW5kQXRpdmEiLCJpZCIsImZpbmRPbmUiLCJfaWQiLCIkb3IiLCIkZXhpc3RzIiwiJGd0IiwiRW1wcmVzYSIsIm1vZGVscyIsIm1vZGVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Empresa.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Usuario.ts":
/*!*******************************!*\
  !*** ./src/models/Usuario.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst UsuarioSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    empresaId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'Empresa',\n        required: [\n            true,\n            'ID da empresa Ã© obrigatÃ³rio'\n        ],\n        index: true\n    },\n    nome: {\n        type: String,\n        required: [\n            true,\n            'Nome Ã© obrigatÃ³rio'\n        ],\n        trim: true,\n        maxlength: [\n            100,\n            'Nome deve ter no mÃ¡ximo 100 caracteres'\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            'Email Ã© obrigatÃ³rio'\n        ],\n        unique: true,\n        trim: true,\n        lowercase: true,\n        validate: {\n            validator: function(email) {\n                return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n            },\n            message: 'Email deve ter um formato vÃ¡lido'\n        }\n    },\n    senha: {\n        type: String,\n        required: [\n            true,\n            'Senha Ã© obrigatÃ³ria'\n        ],\n        minlength: [\n            6,\n            'Senha deve ter no mÃ­nimo 6 caracteres'\n        ],\n        select: false // Por padrÃ£o, nÃ£o incluir a senha nas consultas\n    },\n    role: {\n        type: String,\n        enum: {\n            values: [\n                'super_admin',\n                'admin',\n                'user',\n                'supervisor'\n            ],\n            message: 'Role deve ser: super_admin, admin, user ou supervisor'\n        },\n        default: 'user'\n    },\n    ativo: {\n        type: Boolean,\n        default: true\n    },\n    especialidades: [\n        {\n            type: String,\n            enum: [\n                'aposentadoria_idade',\n                'aposentadoria_tempo_contribuicao',\n                'aposentadoria_especial',\n                'auxilio_doenca',\n                'bpc',\n                'pensao_morte',\n                'revisao_beneficios',\n                'personalizada'\n            ]\n        }\n    ],\n    telefone: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(telefone) {\n                if (!telefone) return true;\n                const cleaned = telefone.replace(/\\D/g, '');\n                return cleaned.length >= 10 && cleaned.length <= 11;\n            },\n            message: 'Telefone deve ter 10 ou 11 dÃ­gitos'\n        }\n    },\n    avatar: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(avatar) {\n                if (!avatar) return true;\n                return /^https?:\\/\\/.+/.test(avatar) || avatar.startsWith('data:image/');\n            },\n            message: 'Avatar deve ser uma URL vÃ¡lida ou base64'\n        }\n    },\n    ultimoAcesso: {\n        type: Date,\n        default: Date.now\n    },\n    configuracoes: {\n        notificacoes: {\n            type: Boolean,\n            default: true\n        },\n        tema: {\n            type: String,\n            enum: [\n                'light',\n                'dark'\n            ],\n            default: 'light'\n        },\n        idioma: {\n            type: String,\n            default: 'pt-BR',\n            enum: [\n                'pt-BR',\n                'en-US',\n                'es-ES'\n            ]\n        }\n    }\n}, {\n    timestamps: {\n        createdAt: 'criadoEm',\n        updatedAt: 'atualizadoEm'\n    },\n    versionKey: false\n});\n// Ãndices compostos para otimizaÃ§Ã£o\nUsuarioSchema.index({\n    empresaId: 1,\n    email: 1\n}, {\n    unique: true\n});\nUsuarioSchema.index({\n    empresaId: 1,\n    ativo: 1\n});\nUsuarioSchema.index({\n    role: 1\n});\nUsuarioSchema.index({\n    especialidades: 1\n});\nUsuarioSchema.index({\n    ultimoAcesso: 1\n});\n// Middleware para hash da senha antes de salvar\nUsuarioSchema.pre('save', async function(next) {\n    // SÃ³ faz hash se a senha foi modificada\n    if (!this.isModified('senha')) return next();\n    try {\n        // Gera salt e faz hash da senha\n        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(12);\n        this.senha = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(this.senha, salt);\n        next();\n    } catch (error) {\n        next(error);\n    }\n});\n// Middleware para formatar telefone\nUsuarioSchema.pre('save', function(next) {\n    if (this.telefone) {\n        this.telefone = this.telefone.replace(/\\D/g, '');\n    }\n    next();\n});\n// MÃ©todo para comparar senhas\nUsuarioSchema.methods.compararSenha = async function(senha) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(senha, this.senha);\n};\n// MÃ©todo para verificar se Ã© admin\nUsuarioSchema.methods.isAdmin = function() {\n    return [\n        'admin',\n        'super_admin'\n    ].includes(this.role);\n};\n// MÃ©todo para verificar se Ã© super admin\nUsuarioSchema.methods.isSuperAdmin = function() {\n    return this.role === 'super_admin';\n};\n// MÃ©todo para atualizar Ãºltimo acesso\nUsuarioSchema.methods.atualizarUltimoAcesso = function() {\n    this.ultimoAcesso = new Date();\n    return this.save({\n        validateBeforeSave: false\n    });\n};\n// MÃ©todos estÃ¡ticos\nUsuarioSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    }).select('+senha');\n};\nUsuarioSchema.statics.findAtivosByEmpresa = function(empresaId) {\n    return this.find({\n        empresaId,\n        ativo: true\n    }).populate('empresaId', 'nome status');\n};\nUsuarioSchema.statics.findByEspecialidade = function(empresaId, especialidade) {\n    return this.find({\n        empresaId,\n        ativo: true,\n        especialidades: especialidade\n    });\n};\nUsuarioSchema.statics.countByEmpresa = function(empresaId) {\n    return this.countDocuments({\n        empresaId,\n        ativo: true\n    });\n};\n// MÃ©todo para buscar admins da empresa\nUsuarioSchema.statics.findAdminsByEmpresa = function(empresaId) {\n    return this.find({\n        empresaId,\n        ativo: true,\n        role: {\n            $in: [\n                'admin',\n                'super_admin'\n            ]\n        }\n    });\n};\n// Virtual para nome formatado\nUsuarioSchema.virtual('nomeFormatado').get(function() {\n    return this.nome.split(' ').map((palavra)=>palavra.charAt(0).toUpperCase() + palavra.slice(1).toLowerCase()).join(' ');\n});\n// Virtual para iniciais\nUsuarioSchema.virtual('iniciais').get(function() {\n    return this.nome.split(' ').map((palavra)=>palavra.charAt(0)).join('').toUpperCase().substring(0, 2);\n});\n// Transformation para JSON (remove senha)\nUsuarioSchema.set('toJSON', {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.senha;\n        delete ret.__v;\n        return ret;\n    }\n});\nconst Usuario = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Usuario || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Usuario', UsuarioSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Usuario);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsR0FBR0MsV0FBVyxLQUFLRixRQUFRRyxLQUFLLENBQUMsR0FBR2pCLFdBQVcsSUFDOURrQixJQUFJLENBQUM7QUFDVDtBQUVBLHdCQUF3QjtBQUN4Qm5GLGNBQWMyRSxPQUFPLENBQUMsWUFBWUMsR0FBRyxDQUFDO0lBQ3BDLE9BQU8sSUFBSSxDQUFDcEUsSUFBSSxDQUNicUUsS0FBSyxDQUFDLEtBQ05DLEdBQUcsQ0FBQyxDQUFDQyxVQUFvQkEsUUFBUUMsTUFBTSxDQUFDLElBQ3hDRyxJQUFJLENBQUMsSUFDTEYsV0FBVyxHQUNYRyxTQUFTLENBQUMsR0FBRztBQUNsQjtBQUVBLDBDQUEwQztBQUMxQ3BGLGNBQWNxRixHQUFHLENBQUMsVUFBVTtJQUMxQkMsVUFBVTtJQUNWQyxXQUFXLFNBQVNDLEdBQUcsRUFBRUMsR0FBRztRQUMxQixPQUFPQSxJQUFJdEUsS0FBSztRQUNoQixPQUFPc0UsSUFBSUMsR0FBRztRQUNkLE9BQU9EO0lBQ1Q7QUFDRjtBQUVBLE1BQU1FLFVBQVU5Rix3REFBZSxDQUFDOEYsT0FBTyxJQUFJOUYscURBQWMsQ0FBa0IsV0FBV0c7QUFFdEYsaUVBQWUyRixPQUFPQSxFQUFBIiwic291cmNlcyI6WyIvaG9tZS9tL3BhbmRvcmFwcm92My9zcmMvbW9kZWxzL1VzdWFyaW8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgeyBVc3VhcmlvIGFzIElVc3VhcmlvIH0gZnJvbSAnQC90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBVc3VhcmlvRG9jdW1lbnQgZXh0ZW5kcyBPbWl0PElVc3VhcmlvLCAnX2lkJz4sIERvY3VtZW50IHtcbiAgY29tcGFyYXJTZW5oYShzZW5oYTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPlxuICBpc0FkbWluKCk6IGJvb2xlYW5cbiAgaXNTdXBlckFkbWluKCk6IGJvb2xlYW5cbn1cblxuY29uc3QgVXN1YXJpb1NjaGVtYSA9IG5ldyBTY2hlbWE8VXN1YXJpb0RvY3VtZW50Pih7XG4gIGVtcHJlc2FJZDoge1xuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdFbXByZXNhJyxcbiAgICByZXF1aXJlZDogW3RydWUsICdJRCBkYSBlbXByZXNhIMOpIG9icmlnYXTDs3JpbyddLFxuICAgIGluZGV4OiB0cnVlXG4gIH0sXG4gIG5vbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnTm9tZSDDqSBvYnJpZ2F0w7NyaW8nXSxcbiAgICB0cmltOiB0cnVlLFxuICAgIG1heGxlbmd0aDogWzEwMCwgJ05vbWUgZGV2ZSB0ZXIgbm8gbcOheGltbyAxMDAgY2FyYWN0ZXJlcyddXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0VtYWlsIMOpIG9icmlnYXTDs3JpbyddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZSxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihlbWFpbDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLy50ZXN0KGVtYWlsKVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdFbWFpbCBkZXZlIHRlciB1bSBmb3JtYXRvIHbDoWxpZG8nXG4gICAgfVxuICB9LFxuICBzZW5oYToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdTZW5oYSDDqSBvYnJpZ2F0w7NyaWEnXSxcbiAgICBtaW5sZW5ndGg6IFs2LCAnU2VuaGEgZGV2ZSB0ZXIgbm8gbcOtbmltbyA2IGNhcmFjdGVyZXMnXSxcbiAgICBzZWxlY3Q6IGZhbHNlIC8vIFBvciBwYWRyw6NvLCBuw6NvIGluY2x1aXIgYSBzZW5oYSBuYXMgY29uc3VsdGFzXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bToge1xuICAgICAgdmFsdWVzOiBbJ3N1cGVyX2FkbWluJywgJ2FkbWluJywgJ3VzZXInLCAnc3VwZXJ2aXNvciddLFxuICAgICAgbWVzc2FnZTogJ1JvbGUgZGV2ZSBzZXI6IHN1cGVyX2FkbWluLCBhZG1pbiwgdXNlciBvdSBzdXBlcnZpc29yJ1xuICAgIH0sXG4gICAgZGVmYXVsdDogJ3VzZXInXG4gIH0sXG4gIGF0aXZvOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGVzcGVjaWFsaWRhZGVzOiBbe1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBlbnVtOiBbXG4gICAgICAnYXBvc2VudGFkb3JpYV9pZGFkZScsXG4gICAgICAnYXBvc2VudGFkb3JpYV90ZW1wb19jb250cmlidWljYW8nLCBcbiAgICAgICdhcG9zZW50YWRvcmlhX2VzcGVjaWFsJyxcbiAgICAgICdhdXhpbGlvX2RvZW5jYScsXG4gICAgICAnYnBjJyxcbiAgICAgICdwZW5zYW9fbW9ydGUnLFxuICAgICAgJ3JldmlzYW9fYmVuZWZpY2lvcycsXG4gICAgICAncGVyc29uYWxpemFkYSdcbiAgICBdXG4gIH1dLFxuICB0ZWxlZm9uZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0cmltOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHRlbGVmb25lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0ZWxlZm9uZSkgcmV0dXJuIHRydWVcbiAgICAgICAgY29uc3QgY2xlYW5lZCA9IHRlbGVmb25lLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWQubGVuZ3RoID49IDEwICYmIGNsZWFuZWQubGVuZ3RoIDw9IDExXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ1RlbGVmb25lIGRldmUgdGVyIDEwIG91IDExIGTDrWdpdG9zJ1xuICAgIH1cbiAgfSxcbiAgYXZhdGFyOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oYXZhdGFyOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFhdmF0YXIpIHJldHVybiB0cnVlXG4gICAgICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8uKy8udGVzdChhdmF0YXIpIHx8IGF2YXRhci5zdGFydHNXaXRoKCdkYXRhOmltYWdlLycpXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ0F2YXRhciBkZXZlIHNlciB1bWEgVVJMIHbDoWxpZGEgb3UgYmFzZTY0J1xuICAgIH1cbiAgfSxcbiAgdWx0aW1vQWNlc3NvOiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9LFxuICBjb25maWd1cmFjb2VzOiB7XG4gICAgbm90aWZpY2Fjb2VzOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgdGVtYToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZW51bTogWydsaWdodCcsICdkYXJrJ10sXG4gICAgICBkZWZhdWx0OiAnbGlnaHQnXG4gICAgfSxcbiAgICBpZGlvbWE6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdwdC1CUicsXG4gICAgICBlbnVtOiBbJ3B0LUJSJywgJ2VuLVVTJywgJ2VzLUVTJ11cbiAgICB9XG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogeyBcbiAgICBjcmVhdGVkQXQ6ICdjcmlhZG9FbScsIFxuICAgIHVwZGF0ZWRBdDogJ2F0dWFsaXphZG9FbScgXG4gIH0sXG4gIHZlcnNpb25LZXk6IGZhbHNlXG59KVxuXG4vLyDDjW5kaWNlcyBjb21wb3N0b3MgcGFyYSBvdGltaXphw6fDo29cblVzdWFyaW9TY2hlbWEuaW5kZXgoeyBlbXByZXNhSWQ6IDEsIGVtYWlsOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pXG5Vc3VhcmlvU2NoZW1hLmluZGV4KHsgZW1wcmVzYUlkOiAxLCBhdGl2bzogMSB9KVxuVXN1YXJpb1NjaGVtYS5pbmRleCh7IHJvbGU6IDEgfSlcblVzdWFyaW9TY2hlbWEuaW5kZXgoeyBlc3BlY2lhbGlkYWRlczogMSB9KVxuVXN1YXJpb1NjaGVtYS5pbmRleCh7IHVsdGltb0FjZXNzbzogMSB9KVxuXG4vLyBNaWRkbGV3YXJlIHBhcmEgaGFzaCBkYSBzZW5oYSBhbnRlcyBkZSBzYWx2YXJcblVzdWFyaW9TY2hlbWEucHJlKCdzYXZlJywgYXN5bmMgZnVuY3Rpb24obmV4dCkge1xuICAvLyBTw7MgZmF6IGhhc2ggc2UgYSBzZW5oYSBmb2kgbW9kaWZpY2FkYVxuICBpZiAoIXRoaXMuaXNNb2RpZmllZCgnc2VuaGEnKSkgcmV0dXJuIG5leHQoKVxuICBcbiAgdHJ5IHtcbiAgICAvLyBHZXJhIHNhbHQgZSBmYXogaGFzaCBkYSBzZW5oYVxuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMilcbiAgICB0aGlzLnNlbmhhID0gYXdhaXQgYmNyeXB0Lmhhc2godGhpcy5zZW5oYSwgc2FsdClcbiAgICBuZXh0KClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yIGFzIEVycm9yKVxuICB9XG59KVxuXG4vLyBNaWRkbGV3YXJlIHBhcmEgZm9ybWF0YXIgdGVsZWZvbmVcblVzdWFyaW9TY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICBpZiAodGhpcy50ZWxlZm9uZSkge1xuICAgIHRoaXMudGVsZWZvbmUgPSB0aGlzLnRlbGVmb25lLnJlcGxhY2UoL1xcRC9nLCAnJylcbiAgfVxuICBuZXh0KClcbn0pXG5cbi8vIE3DqXRvZG8gcGFyYSBjb21wYXJhciBzZW5oYXNcblVzdWFyaW9TY2hlbWEubWV0aG9kcy5jb21wYXJhclNlbmhhID0gYXN5bmMgZnVuY3Rpb24oc2VuaGE6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gYmNyeXB0LmNvbXBhcmUoc2VuaGEsIHRoaXMuc2VuaGEpXG59XG5cbi8vIE3DqXRvZG8gcGFyYSB2ZXJpZmljYXIgc2Ugw6kgYWRtaW5cblVzdWFyaW9TY2hlbWEubWV0aG9kcy5pc0FkbWluID0gZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gIHJldHVybiBbJ2FkbWluJywgJ3N1cGVyX2FkbWluJ10uaW5jbHVkZXModGhpcy5yb2xlKVxufVxuXG4vLyBNw6l0b2RvIHBhcmEgdmVyaWZpY2FyIHNlIMOpIHN1cGVyIGFkbWluXG5Vc3VhcmlvU2NoZW1hLm1ldGhvZHMuaXNTdXBlckFkbWluID0gZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gIHJldHVybiB0aGlzLnJvbGUgPT09ICdzdXBlcl9hZG1pbidcbn1cblxuLy8gTcOpdG9kbyBwYXJhIGF0dWFsaXphciDDumx0aW1vIGFjZXNzb1xuVXN1YXJpb1NjaGVtYS5tZXRob2RzLmF0dWFsaXphclVsdGltb0FjZXNzbyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVsdGltb0FjZXNzbyA9IG5ldyBEYXRlKClcbiAgcmV0dXJuIHRoaXMuc2F2ZSh7IHZhbGlkYXRlQmVmb3JlU2F2ZTogZmFsc2UgfSlcbn1cblxuLy8gTcOpdG9kb3MgZXN0w6F0aWNvc1xuVXN1YXJpb1NjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsID0gZnVuY3Rpb24oZW1haWw6IHN0cmluZykge1xuICByZXR1cm4gdGhpcy5maW5kT25lKHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCkgfSkuc2VsZWN0KCcrc2VuaGEnKVxufVxuXG5Vc3VhcmlvU2NoZW1hLnN0YXRpY3MuZmluZEF0aXZvc0J5RW1wcmVzYSA9IGZ1bmN0aW9uKGVtcHJlc2FJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBcbiAgICBlbXByZXNhSWQsIFxuICAgIGF0aXZvOiB0cnVlIFxuICB9KS5wb3B1bGF0ZSgnZW1wcmVzYUlkJywgJ25vbWUgc3RhdHVzJylcbn1cblxuVXN1YXJpb1NjaGVtYS5zdGF0aWNzLmZpbmRCeUVzcGVjaWFsaWRhZGUgPSBmdW5jdGlvbihcbiAgZW1wcmVzYUlkOiBzdHJpbmcsIFxuICBlc3BlY2lhbGlkYWRlOiBzdHJpbmdcbikge1xuICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICBlbXByZXNhSWQsXG4gICAgYXRpdm86IHRydWUsXG4gICAgZXNwZWNpYWxpZGFkZXM6IGVzcGVjaWFsaWRhZGVcbiAgfSlcbn1cblxuVXN1YXJpb1NjaGVtYS5zdGF0aWNzLmNvdW50QnlFbXByZXNhID0gZnVuY3Rpb24oZW1wcmVzYUlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHRoaXMuY291bnREb2N1bWVudHMoeyBlbXByZXNhSWQsIGF0aXZvOiB0cnVlIH0pXG59XG5cbi8vIE3DqXRvZG8gcGFyYSBidXNjYXIgYWRtaW5zIGRhIGVtcHJlc2FcblVzdWFyaW9TY2hlbWEuc3RhdGljcy5maW5kQWRtaW5zQnlFbXByZXNhID0gZnVuY3Rpb24oZW1wcmVzYUlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHRoaXMuZmluZCh7XG4gICAgZW1wcmVzYUlkLFxuICAgIGF0aXZvOiB0cnVlLFxuICAgIHJvbGU6IHsgJGluOiBbJ2FkbWluJywgJ3N1cGVyX2FkbWluJ10gfVxuICB9KVxufVxuXG4vLyBWaXJ0dWFsIHBhcmEgbm9tZSBmb3JtYXRhZG9cblVzdWFyaW9TY2hlbWEudmlydHVhbCgnbm9tZUZvcm1hdGFkbycpLmdldChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubm9tZS5zcGxpdCgnICcpLm1hcCgocGFsYXZyYTogc3RyaW5nKSA9PiBcbiAgICBwYWxhdnJhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFsYXZyYS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpXG4gICkuam9pbignICcpXG59KVxuXG4vLyBWaXJ0dWFsIHBhcmEgaW5pY2lhaXNcblVzdWFyaW9TY2hlbWEudmlydHVhbCgnaW5pY2lhaXMnKS5nZXQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm5vbWVcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5tYXAoKHBhbGF2cmE6IHN0cmluZykgPT4gcGFsYXZyYS5jaGFyQXQoMCkpXG4gICAgLmpvaW4oJycpXG4gICAgLnRvVXBwZXJDYXNlKClcbiAgICAuc3Vic3RyaW5nKDAsIDIpXG59KVxuXG4vLyBUcmFuc2Zvcm1hdGlvbiBwYXJhIEpTT04gKHJlbW92ZSBzZW5oYSlcblVzdWFyaW9TY2hlbWEuc2V0KCd0b0pTT04nLCB7XG4gIHZpcnR1YWxzOiB0cnVlLFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uKGRvYywgcmV0KSB7XG4gICAgZGVsZXRlIHJldC5zZW5oYVxuICAgIGRlbGV0ZSByZXQuX192XG4gICAgcmV0dXJuIHJldFxuICB9XG59KVxuXG5jb25zdCBVc3VhcmlvID0gbW9uZ29vc2UubW9kZWxzLlVzdWFyaW8gfHwgbW9uZ29vc2UubW9kZWw8VXN1YXJpb0RvY3VtZW50PignVXN1YXJpbycsIFVzdWFyaW9TY2hlbWEpXG5cbmV4cG9ydCBkZWZhdWx0IFVzdWFyaW8gIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiYmNyeXB0IiwiVXN1YXJpb1NjaGVtYSIsImVtcHJlc2FJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbmRleCIsIm5vbWUiLCJTdHJpbmciLCJ0cmltIiwibWF4bGVuZ3RoIiwiZW1haWwiLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInRlc3QiLCJtZXNzYWdlIiwic2VuaGEiLCJtaW5sZW5ndGgiLCJzZWxlY3QiLCJyb2xlIiwiZW51bSIsInZhbHVlcyIsImRlZmF1bHQiLCJhdGl2byIsIkJvb2xlYW4iLCJlc3BlY2lhbGlkYWRlcyIsInRlbGVmb25lIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJsZW5ndGgiLCJhdmF0YXIiLCJzdGFydHNXaXRoIiwidWx0aW1vQWNlc3NvIiwiRGF0ZSIsIm5vdyIsImNvbmZpZ3VyYWNvZXMiLCJub3RpZmljYWNvZXMiLCJ0ZW1hIiwiaWRpb21hIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInZlcnNpb25LZXkiLCJwcmUiLCJuZXh0IiwiaXNNb2RpZmllZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsImVycm9yIiwibWV0aG9kcyIsImNvbXBhcmFyU2VuaGEiLCJjb21wYXJlIiwiaXNBZG1pbiIsImluY2x1ZGVzIiwiaXNTdXBlckFkbWluIiwiYXR1YWxpemFyVWx0aW1vQWNlc3NvIiwic2F2ZSIsInZhbGlkYXRlQmVmb3JlU2F2ZSIsInN0YXRpY3MiLCJmaW5kQnlFbWFpbCIsImZpbmRPbmUiLCJ0b0xvd2VyQ2FzZSIsImZpbmRBdGl2b3NCeUVtcHJlc2EiLCJmaW5kIiwicG9wdWxhdGUiLCJmaW5kQnlFc3BlY2lhbGlkYWRlIiwiZXNwZWNpYWxpZGFkZSIsImNvdW50QnlFbXByZXNhIiwiY291bnREb2N1bWVudHMiLCJmaW5kQWRtaW5zQnlFbXByZXNhIiwiJGluIiwidmlydHVhbCIsImdldCIsInNwbGl0IiwibWFwIiwicGFsYXZyYSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJqb2luIiwic3Vic3RyaW5nIiwic2V0IiwidmlydHVhbHMiLCJ0cmFuc2Zvcm0iLCJkb2MiLCJyZXQiLCJfX3YiLCJVc3VhcmlvIiwibW9kZWxzIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Usuario.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/index.ts":
/*!*****************************!*\
  !*** ./src/models/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cliente: () => (/* reexport safe */ _Cliente__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   Empresa: () => (/* reexport safe */ _Empresa__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   Usuario: () => (/* reexport safe */ _Usuario__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _Empresa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Empresa */ \"(rsc)/./src/models/Empresa.ts\");\n/* harmony import */ var _Usuario__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Usuario */ \"(rsc)/./src/models/Usuario.ts\");\n/* harmony import */ var _Cliente__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Cliente */ \"(rsc)/./src/models/Cliente.ts\");\n// ExportaÃ§Ãµes de modelos do banco de dados\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDJDQUEyQztBQUNHO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbS9wYW5kb3JhcHJvdjMvc3JjL21vZGVscy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRhw6fDtWVzIGRlIG1vZGVsb3MgZG8gYmFuY28gZGUgZGFkb3NcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRW1wcmVzYSB9IGZyb20gJy4vRW1wcmVzYSdcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVXN1YXJpbyB9IGZyb20gJy4vVXN1YXJpbydcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2xpZW50ZSB9IGZyb20gJy4vQ2xpZW50ZSdcblxuLy8gRXhwb3J0YcOnw7VlcyBkZSB0aXBvcyBkb3MgZG9jdW1lbnRvc1xuZXhwb3J0IHR5cGUgeyBFbXByZXNhRG9jdW1lbnQgfSBmcm9tICcuL0VtcHJlc2EnXG5leHBvcnQgdHlwZSB7IFVzdWFyaW9Eb2N1bWVudCB9IGZyb20gJy4vVXN1YXJpbydcbmV4cG9ydCB0eXBlIHsgQ2xpZW50ZURvY3VtZW50IH0gZnJvbSAnLi9DbGllbnRlJyAiXSwibmFtZXMiOlsiZGVmYXVsdCIsIkVtcHJlc2EiLCJVc3VhcmlvIiwiQ2xpZW50ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/whatsapp.ts":
/*!********************************!*\
  !*** ./src/models/whatsapp.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BotConfig: () => (/* binding */ BotConfig),\n/* harmony export */   ChatWhatsApp: () => (/* binding */ ChatWhatsApp),\n/* harmony export */   MessageTemplate: () => (/* binding */ MessageTemplate),\n/* harmony export */   MessageWhatsApp: () => (/* binding */ MessageWhatsApp),\n/* harmony export */   WhatsAppInstance: () => (/* binding */ WhatsAppInstance)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ChatWhatsAppSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    instanceId: {\n        type: String,\n        required: true,\n        index: true\n    },\n    clienteId: {\n        type: String,\n        index: true\n    },\n    contactJid: {\n        type: String,\n        required: true,\n        index: true\n    },\n    contactName: {\n        type: String,\n        required: true\n    },\n    contactProfilePicture: String,\n    lastMessage: String,\n    lastMessageTimestamp: Date,\n    unreadCount: {\n        type: Number,\n        default: 0\n    },\n    isGroup: {\n        type: Boolean,\n        default: false\n    }\n}, {\n    timestamps: true,\n    collection: 'whatsapp_chats'\n});\n// Ãndices compostos\nChatWhatsAppSchema.index({\n    instanceId: 1,\n    contactJid: 1\n}, {\n    unique: true\n});\nChatWhatsAppSchema.index({\n    instanceId: 1,\n    clienteId: 1\n});\nChatWhatsAppSchema.index({\n    instanceId: 1,\n    lastMessageTimestamp: -1\n});\nconst MessageWhatsAppSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    chatId: {\n        type: String,\n        required: true,\n        index: true\n    },\n    messageId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    remoteJid: {\n        type: String,\n        required: true,\n        index: true\n    },\n    fromMe: {\n        type: Boolean,\n        required: true\n    },\n    content: {\n        type: String,\n        required: true\n    },\n    messageType: {\n        type: String,\n        required: true,\n        enum: [\n            'conversation',\n            'extendedTextMessage',\n            'imageMessage',\n            'documentMessage',\n            'audioMessage',\n            'videoMessage'\n        ]\n    },\n    timestamp: {\n        type: Date,\n        required: true,\n        index: true\n    },\n    status: {\n        type: String,\n        required: true,\n        enum: [\n            'sent',\n            'delivered',\n            'read',\n            'error'\n        ],\n        default: 'sent'\n    },\n    mediaUrl: String,\n    fileName: String,\n    caption: String,\n    quotedMessageId: String,\n    tenantId: {\n        type: String,\n        required: true,\n        index: true\n    }\n}, {\n    timestamps: true,\n    collection: 'whatsapp_messages'\n});\n// Ãndices compostos\nMessageWhatsAppSchema.index({\n    chatId: 1,\n    timestamp: -1\n});\nMessageWhatsAppSchema.index({\n    tenantId: 1,\n    timestamp: -1\n});\nMessageWhatsAppSchema.index({\n    remoteJid: 1,\n    timestamp: -1\n});\nconst MessageTemplateSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    category: {\n        type: String,\n        required: true,\n        enum: [\n            'boas-vindas',\n            'documentacao',\n            'status',\n            'agendamento',\n            'cobranca',\n            'geral'\n        ]\n    },\n    content: {\n        type: String,\n        required: true\n    },\n    variables: [\n        {\n            type: String,\n            trim: true\n        }\n    ],\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    tenantId: {\n        type: String,\n        required: true,\n        index: true\n    }\n}, {\n    timestamps: true,\n    collection: 'message_templates'\n});\nMessageTemplateSchema.index({\n    tenantId: 1,\n    category: 1\n});\nMessageTemplateSchema.index({\n    tenantId: 1,\n    name: 1\n}, {\n    unique: true\n});\nconst MenuOptionSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    id: String,\n    keyword: {\n        type: String,\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    description: String,\n    response: {\n        type: String,\n        required: true\n    },\n    subOptions: [\n        undefined\n    ],\n    action: {\n        type: String,\n        enum: [\n            'send_message',\n            'transfer_human',\n            'collect_info',\n            'send_document'\n        ]\n    }\n}, {\n    _id: false\n});\nconst BotConfigSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    instanceId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    welcomeMessage: String,\n    menuOptions: [\n        MenuOptionSchema\n    ],\n    fallbackMessage: {\n        type: String,\n        default: 'Desculpe, nÃ£o entendi sua mensagem. Digite *menu* para ver as opÃ§Ãµes disponÃ­veis.'\n    },\n    businessHours: {\n        enabled: {\n            type: Boolean,\n            default: false\n        },\n        start: {\n            type: String,\n            default: '08:00'\n        },\n        end: {\n            type: String,\n            default: '18:00'\n        },\n        timezone: {\n            type: String,\n            default: 'America/Sao_Paulo'\n        },\n        offlineMessage: {\n            type: String,\n            default: 'ðŸ•’ Nosso horÃ¡rio de atendimento Ã© de segunda Ã  sexta, das 8h Ã s 18h. Retornaremos em breve!'\n        }\n    },\n    tenantId: {\n        type: String,\n        required: true,\n        index: true\n    }\n}, {\n    timestamps: true,\n    collection: 'bot_configs'\n});\nconst WhatsAppInstanceSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    instanceName: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    tenantId: {\n        type: String,\n        required: true,\n        index: true\n    },\n    status: {\n        type: String,\n        required: true,\n        enum: [\n            'connected',\n            'connecting',\n            'disconnected',\n            'qr_code'\n        ],\n        default: 'disconnected'\n    },\n    qrCode: String,\n    number: String,\n    profileName: String,\n    profilePictureUrl: String,\n    lastSeen: Date,\n    webhookConfigured: {\n        type: Boolean,\n        default: false\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    connectionAttempts: {\n        type: Number,\n        default: 0\n    },\n    lastConnectionAttempt: Date\n}, {\n    timestamps: true,\n    collection: 'whatsapp_instances'\n});\nWhatsAppInstanceSchema.index({\n    tenantId: 1,\n    status: 1\n});\n// ===== MÃ‰TODOS ESTÃTICOS E DE INSTÃ‚NCIA =====\n// MÃ©todos para Chat\nChatWhatsAppSchema.statics.findByInstance = function(instanceId) {\n    return this.find({\n        instanceId\n    }).sort({\n        lastMessageTimestamp: -1\n    });\n};\nChatWhatsAppSchema.statics.findByCliente = function(clienteId) {\n    return this.find({\n        clienteId\n    }).sort({\n        lastMessageTimestamp: -1\n    });\n};\nChatWhatsAppSchema.methods.updateLastMessage = function(content, timestamp) {\n    this.lastMessage = content;\n    this.lastMessageTimestamp = timestamp;\n    return this.save();\n};\nChatWhatsAppSchema.methods.incrementUnread = function() {\n    this.unreadCount += 1;\n    return this.save();\n};\nChatWhatsAppSchema.methods.markAsRead = function() {\n    this.unreadCount = 0;\n    return this.save();\n};\n// MÃ©todos para Message\nMessageWhatsAppSchema.statics.findByChat = function(chatId, limit = 50) {\n    return this.find({\n        chatId\n    }).sort({\n        timestamp: -1\n    }).limit(limit);\n};\nMessageWhatsAppSchema.statics.findByTenant = function(tenantId, limit = 100) {\n    return this.find({\n        tenantId\n    }).sort({\n        timestamp: -1\n    }).limit(limit);\n};\nMessageWhatsAppSchema.statics.countUnreadByTenant = function(tenantId) {\n    return this.aggregate([\n        {\n            $match: {\n                tenantId,\n                fromMe: false,\n                status: {\n                    $ne: 'read'\n                }\n            }\n        },\n        {\n            $group: {\n                _id: null,\n                count: {\n                    $sum: 1\n                }\n            }\n        }\n    ]);\n};\n// MÃ©todos para Template\nMessageTemplateSchema.statics.findByCategory = function(tenantId, category) {\n    return this.find({\n        tenantId,\n        category,\n        isActive: true\n    });\n};\nMessageTemplateSchema.methods.interpolate = function(variables) {\n    let content = this.content;\n    for (const [key, value] of Object.entries(variables)){\n        content = content.replace(new RegExp(`{{${key}}}`, 'g'), value);\n    }\n    return content;\n};\n// MÃ©todos para Instance\nWhatsAppInstanceSchema.statics.findByTenant = function(tenantId) {\n    return this.find({\n        tenantId,\n        isActive: true\n    });\n};\nWhatsAppInstanceSchema.statics.findConnected = function(tenantId) {\n    return this.find({\n        tenantId,\n        status: 'connected',\n        isActive: true\n    });\n};\nWhatsAppInstanceSchema.methods.updateStatus = function(status, additionalData) {\n    this.status = status;\n    this.lastSeen = new Date();\n    if (additionalData) {\n        Object.assign(this, additionalData);\n    }\n    return this.save();\n};\nWhatsAppInstanceSchema.methods.incrementConnectionAttempts = function() {\n    this.connectionAttempts += 1;\n    this.lastConnectionAttempt = new Date();\n    return this.save();\n};\nWhatsAppInstanceSchema.methods.resetConnectionAttempts = function() {\n    this.connectionAttempts = 0;\n    this.lastConnectionAttempt = undefined;\n    return this.save();\n};\n// ===== EXPORTAÃ‡ÃƒO DOS MODELOS =====\nconst ChatWhatsApp = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.ChatWhatsApp || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('ChatWhatsApp', ChatWhatsAppSchema);\nconst MessageWhatsApp = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.MessageWhatsApp || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('MessageWhatsApp', MessageWhatsAppSchema);\nconst MessageTemplate = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.MessageTemplate || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('MessageTemplate', MessageTemplateSchema);\nconst BotConfig = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.BotConfig || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('BotConfig', BotConfigSchema);\nconst WhatsAppInstance = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.WhatsAppInstance || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('WhatsAppInstance', WhatsAppInstanceSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQjtJQUN6RixJQUFJLENBQUN2RSxNQUFNLEdBQUdBO0lBQ2QsSUFBSSxDQUFDcUMsUUFBUSxHQUFHLElBQUl2RDtJQUVwQixJQUFJeUYsZ0JBQWdCO1FBQ2xCTixPQUFPTyxNQUFNLENBQUMsSUFBSSxFQUFFRDtJQUN0QjtJQUVBLE9BQU8sSUFBSSxDQUFDdkIsSUFBSTtBQUNsQjtBQUVBakIsdUJBQXVCZSxPQUFPLENBQUMyQiwyQkFBMkIsR0FBRztJQUMzRCxJQUFJLENBQUNsQyxrQkFBa0IsSUFBSTtJQUMzQixJQUFJLENBQUNDLHFCQUFxQixHQUFHLElBQUkxRDtJQUNqQyxPQUFPLElBQUksQ0FBQ2tFLElBQUk7QUFDbEI7QUFFQWpCLHVCQUF1QmUsT0FBTyxDQUFDNEIsdUJBQXVCLEdBQUc7SUFDdkQsSUFBSSxDQUFDbkMsa0JBQWtCLEdBQUc7SUFDMUIsSUFBSSxDQUFDQyxxQkFBcUIsR0FBR21DO0lBQzdCLE9BQU8sSUFBSSxDQUFDM0IsSUFBSTtBQUNsQjtBQUVBLHFDQUFxQztBQUU5QixNQUFNNEIsZUFBZ0I1Ryx3REFBZSxFQUFFNEcsZ0JBQzVDNUcscURBQWMsQ0FBZ0IsZ0JBQWdCRSxvQkFBcUQ7QUFFOUYsTUFBTTZHLGtCQUFtQi9HLHdEQUFlLEVBQUUrRyxtQkFDL0MvRyxxREFBYyxDQUFtQixtQkFBbUJ1Qix1QkFBMkQ7QUFFMUcsTUFBTXlGLGtCQUFtQmhILHdEQUFlLEVBQUVnSCxtQkFDL0NoSCxxREFBYyxDQUFtQixtQkFBbUJzQyx1QkFBMkQ7QUFFMUcsTUFBTTJFLFlBQWFqSCx3REFBZSxFQUFFaUgsYUFDekNqSCxxREFBYyxDQUFhLGFBQWFxRCxpQkFBK0M7QUFFbEYsTUFBTTZELG1CQUFvQmxILHdEQUFlLEVBQUVrSCxvQkFDaERsSCxxREFBYyxDQUFvQixvQkFBb0IrRCx3QkFBNkQiLCJzb3VyY2VzIjpbIi9ob21lL20vcGFuZG9yYXByb3YzL3NyYy9tb2RlbHMvd2hhdHNhcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSdcbmltcG9ydCB0eXBlIHsgQ2hhdFdoYXRzQXBwIGFzIENoYXRXaGF0c0FwcFR5cGUsIE1lc3NhZ2VXaGF0c0FwcCBhcyBNZXNzYWdlV2hhdHNBcHBUeXBlLCBNZXNzYWdlVGVtcGxhdGUgYXMgTWVzc2FnZVRlbXBsYXRlVHlwZSwgQm90Q29uZmlnIGFzIEJvdENvbmZpZ1R5cGUgfSBmcm9tICdAL3R5cGVzL3doYXRzYXBwJ1xuXG4vLyA9PT09PSBTQ0hFTUEgRE8gQ0hBVCBXSEFUU0FQUCA9PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGF0V2hhdHNBcHAgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIGluc3RhbmNlSWQ6IHN0cmluZ1xuICBjbGllbnRlSWQ/OiBzdHJpbmdcbiAgY29udGFjdEppZDogc3RyaW5nXG4gIGNvbnRhY3ROYW1lOiBzdHJpbmdcbiAgY29udGFjdFByb2ZpbGVQaWN0dXJlPzogc3RyaW5nXG4gIGxhc3RNZXNzYWdlPzogc3RyaW5nXG4gIGxhc3RNZXNzYWdlVGltZXN0YW1wPzogRGF0ZVxuICB1bnJlYWRDb3VudDogbnVtYmVyXG4gIGlzR3JvdXA6IGJvb2xlYW5cbiAgY3JlYXRlZEF0OiBEYXRlXG4gIHVwZGF0ZWRBdDogRGF0ZVxufVxuXG5jb25zdCBDaGF0V2hhdHNBcHBTY2hlbWEgPSBuZXcgU2NoZW1hPElDaGF0V2hhdHNBcHA+KHtcbiAgaW5zdGFuY2VJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBjbGllbnRlSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgaW5kZXg6IHRydWVcbiAgfSxcbiAgY29udGFjdEppZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBjb250YWN0TmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBjb250YWN0UHJvZmlsZVBpY3R1cmU6IFN0cmluZyxcbiAgbGFzdE1lc3NhZ2U6IFN0cmluZyxcbiAgbGFzdE1lc3NhZ2VUaW1lc3RhbXA6IERhdGUsXG4gIHVucmVhZENvdW50OiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgaXNHcm91cDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxuICBjb2xsZWN0aW9uOiAnd2hhdHNhcHBfY2hhdHMnXG59KVxuXG4vLyDDjW5kaWNlcyBjb21wb3N0b3NcbkNoYXRXaGF0c0FwcFNjaGVtYS5pbmRleCh7IGluc3RhbmNlSWQ6IDEsIGNvbnRhY3RKaWQ6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSlcbkNoYXRXaGF0c0FwcFNjaGVtYS5pbmRleCh7IGluc3RhbmNlSWQ6IDEsIGNsaWVudGVJZDogMSB9KVxuQ2hhdFdoYXRzQXBwU2NoZW1hLmluZGV4KHsgaW5zdGFuY2VJZDogMSwgbGFzdE1lc3NhZ2VUaW1lc3RhbXA6IC0xIH0pXG5cbi8vID09PT09IFNDSEVNQSBEQSBNRU5TQUdFTSBXSEFUU0FQUCA9PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIElNZXNzYWdlV2hhdHNBcHAgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIGNoYXRJZDogc3RyaW5nXG4gIG1lc3NhZ2VJZDogc3RyaW5nXG4gIHJlbW90ZUppZDogc3RyaW5nXG4gIGZyb21NZTogYm9vbGVhblxuICBjb250ZW50OiBzdHJpbmdcbiAgbWVzc2FnZVR5cGU6IHN0cmluZ1xuICB0aW1lc3RhbXA6IERhdGVcbiAgc3RhdHVzOiAnc2VudCcgfCAnZGVsaXZlcmVkJyB8ICdyZWFkJyB8ICdlcnJvcidcbiAgbWVkaWFVcmw/OiBzdHJpbmdcbiAgZmlsZU5hbWU/OiBzdHJpbmdcbiAgY2FwdGlvbj86IHN0cmluZ1xuICBxdW90ZWRNZXNzYWdlSWQ/OiBzdHJpbmdcbiAgdGVuYW50SWQ6IHN0cmluZ1xuICBjcmVhdGVkQXQ6IERhdGVcbn1cblxuY29uc3QgTWVzc2FnZVdoYXRzQXBwU2NoZW1hID0gbmV3IFNjaGVtYTxJTWVzc2FnZVdoYXRzQXBwPih7XG4gIGNoYXRJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBtZXNzYWdlSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH0sXG4gIHJlbW90ZUppZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBpbmRleDogdHJ1ZVxuICB9LFxuICBmcm9tTWU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG4gIGNvbnRlbnQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgbWVzc2FnZVR5cGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZW51bTogWydjb252ZXJzYXRpb24nLCAnZXh0ZW5kZWRUZXh0TWVzc2FnZScsICdpbWFnZU1lc3NhZ2UnLCAnZG9jdW1lbnRNZXNzYWdlJywgJ2F1ZGlvTWVzc2FnZScsICd2aWRlb01lc3NhZ2UnXVxuICB9LFxuICB0aW1lc3RhbXA6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBlbnVtOiBbJ3NlbnQnLCAnZGVsaXZlcmVkJywgJ3JlYWQnLCAnZXJyb3InXSxcbiAgICBkZWZhdWx0OiAnc2VudCdcbiAgfSxcbiAgbWVkaWFVcmw6IFN0cmluZyxcbiAgZmlsZU5hbWU6IFN0cmluZyxcbiAgY2FwdGlvbjogU3RyaW5nLFxuICBxdW90ZWRNZXNzYWdlSWQ6IFN0cmluZyxcbiAgdGVuYW50SWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgaW5kZXg6IHRydWVcbiAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxuICBjb2xsZWN0aW9uOiAnd2hhdHNhcHBfbWVzc2FnZXMnXG59KVxuXG4vLyDDjW5kaWNlcyBjb21wb3N0b3Ncbk1lc3NhZ2VXaGF0c0FwcFNjaGVtYS5pbmRleCh7IGNoYXRJZDogMSwgdGltZXN0YW1wOiAtMSB9KVxuTWVzc2FnZVdoYXRzQXBwU2NoZW1hLmluZGV4KHsgdGVuYW50SWQ6IDEsIHRpbWVzdGFtcDogLTEgfSlcbk1lc3NhZ2VXaGF0c0FwcFNjaGVtYS5pbmRleCh7IHJlbW90ZUppZDogMSwgdGltZXN0YW1wOiAtMSB9KVxuXG4vLyA9PT09PSBTQ0hFTUEgRE8gVEVNUExBVEUgREUgTUVOU0FHRU0gPT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBJTWVzc2FnZVRlbXBsYXRlIGV4dGVuZHMgRG9jdW1lbnQge1xuICBuYW1lOiBzdHJpbmdcbiAgY2F0ZWdvcnk6ICdib2FzLXZpbmRhcycgfCAnZG9jdW1lbnRhY2FvJyB8ICdzdGF0dXMnIHwgJ2FnZW5kYW1lbnRvJyB8ICdjb2JyYW5jYScgfCAnZ2VyYWwnXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICB2YXJpYWJsZXM6IHN0cmluZ1tdXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIHRlbmFudElkOiBzdHJpbmdcbn1cblxuY29uc3QgTWVzc2FnZVRlbXBsYXRlU2NoZW1hID0gbmV3IFNjaGVtYTxJTWVzc2FnZVRlbXBsYXRlPih7XG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBjYXRlZ29yeToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBlbnVtOiBbJ2JvYXMtdmluZGFzJywgJ2RvY3VtZW50YWNhbycsICdzdGF0dXMnLCAnYWdlbmRhbWVudG8nLCAnY29icmFuY2EnLCAnZ2VyYWwnXVxuICB9LFxuICBjb250ZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG4gIHZhcmlhYmxlczogW3tcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdHJpbTogdHJ1ZVxuICB9XSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgdGVuYW50SWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgaW5kZXg6IHRydWVcbiAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxuICBjb2xsZWN0aW9uOiAnbWVzc2FnZV90ZW1wbGF0ZXMnXG59KVxuXG5NZXNzYWdlVGVtcGxhdGVTY2hlbWEuaW5kZXgoeyB0ZW5hbnRJZDogMSwgY2F0ZWdvcnk6IDEgfSlcbk1lc3NhZ2VUZW1wbGF0ZVNjaGVtYS5pbmRleCh7IHRlbmFudElkOiAxLCBuYW1lOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pXG5cbi8vID09PT09IFNDSEVNQSBEQSBDT05GSUdVUkHDh8ODTyBERSBCT1QgPT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBJQm90Q29uZmlnIGV4dGVuZHMgRG9jdW1lbnQge1xuICBpbnN0YW5jZUlkOiBzdHJpbmdcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgd2VsY29tZU1lc3NhZ2U/OiBzdHJpbmdcbiAgbWVudU9wdGlvbnM6IGFueVtdXG4gIGZhbGxiYWNrTWVzc2FnZTogc3RyaW5nXG4gIGJ1c2luZXNzSG91cnM/OiB7XG4gICAgZW5hYmxlZDogYm9vbGVhblxuICAgIHN0YXJ0OiBzdHJpbmdcbiAgICBlbmQ6IHN0cmluZ1xuICAgIHRpbWV6b25lOiBzdHJpbmdcbiAgICBvZmZsaW5lTWVzc2FnZTogc3RyaW5nXG4gIH1cbiAgdGVuYW50SWQ6IHN0cmluZ1xufVxuXG5jb25zdCBNZW51T3B0aW9uU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIGlkOiBTdHJpbmcsXG4gIGtleXdvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgdGl0bGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgZGVzY3JpcHRpb246IFN0cmluZyxcbiAgcmVzcG9uc2U6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgc3ViT3B0aW9uczogW3RoaXNdLFxuICBhY3Rpb246IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWydzZW5kX21lc3NhZ2UnLCAndHJhbnNmZXJfaHVtYW4nLCAnY29sbGVjdF9pbmZvJywgJ3NlbmRfZG9jdW1lbnQnXVxuICB9XG59LCB7IF9pZDogZmFsc2UgfSlcblxuY29uc3QgQm90Q29uZmlnU2NoZW1hID0gbmV3IFNjaGVtYTxJQm90Q29uZmlnPih7XG4gIGluc3RhbmNlSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH0sXG4gIGlzQWN0aXZlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIHdlbGNvbWVNZXNzYWdlOiBTdHJpbmcsXG4gIG1lbnVPcHRpb25zOiBbTWVudU9wdGlvblNjaGVtYV0sXG4gIGZhbGxiYWNrTWVzc2FnZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnRGVzY3VscGUsIG7Do28gZW50ZW5kaSBzdWEgbWVuc2FnZW0uIERpZ2l0ZSAqbWVudSogcGFyYSB2ZXIgYXMgb3DDp8O1ZXMgZGlzcG9uw612ZWlzLidcbiAgfSxcbiAgYnVzaW5lc3NIb3Vyczoge1xuICAgIGVuYWJsZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgc3RhcnQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcwODowMCdcbiAgICB9LFxuICAgIGVuZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJzE4OjAwJ1xuICAgIH0sXG4gICAgdGltZXpvbmU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdBbWVyaWNhL1Nhb19QYXVsbydcbiAgICB9LFxuICAgIG9mZmxpbmVNZXNzYWdlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAn8J+VkiBOb3NzbyBob3LDoXJpbyBkZSBhdGVuZGltZW50byDDqSBkZSBzZWd1bmRhIMOgIHNleHRhLCBkYXMgOGggw6BzIDE4aC4gUmV0b3JuYXJlbW9zIGVtIGJyZXZlISdcbiAgICB9XG4gIH0sXG4gIHRlbmFudElkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgY29sbGVjdGlvbjogJ2JvdF9jb25maWdzJ1xufSlcblxuLy8gPT09PT0gU0NIRU1BIERBIElOU1TDgk5DSUEgV0hBVFNBUFAgPT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBJV2hhdHNBcHBJbnN0YW5jZSBleHRlbmRzIERvY3VtZW50IHtcbiAgaW5zdGFuY2VOYW1lOiBzdHJpbmdcbiAgdGVuYW50SWQ6IHN0cmluZ1xuICBzdGF0dXM6ICdjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAncXJfY29kZSdcbiAgcXJDb2RlPzogc3RyaW5nXG4gIG51bWJlcj86IHN0cmluZ1xuICBwcm9maWxlTmFtZT86IHN0cmluZ1xuICBwcm9maWxlUGljdHVyZVVybD86IHN0cmluZ1xuICBsYXN0U2Vlbj86IERhdGVcbiAgd2ViaG9va0NvbmZpZ3VyZWQ6IGJvb2xlYW5cbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgY29ubmVjdGlvbkF0dGVtcHRzOiBudW1iZXJcbiAgbGFzdENvbm5lY3Rpb25BdHRlbXB0PzogRGF0ZVxuICBjcmVhdGVkQXQ6IERhdGVcbiAgdXBkYXRlZEF0OiBEYXRlXG59XG5cbmNvbnN0IFdoYXRzQXBwSW5zdGFuY2VTY2hlbWEgPSBuZXcgU2NoZW1hPElXaGF0c0FwcEluc3RhbmNlPih7XG4gIGluc3RhbmNlTmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWVcbiAgfSxcbiAgdGVuYW50SWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgaW5kZXg6IHRydWVcbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnY29ubmVjdGVkJywgJ2Nvbm5lY3RpbmcnLCAnZGlzY29ubmVjdGVkJywgJ3FyX2NvZGUnXSxcbiAgICBkZWZhdWx0OiAnZGlzY29ubmVjdGVkJ1xuICB9LFxuICBxckNvZGU6IFN0cmluZyxcbiAgbnVtYmVyOiBTdHJpbmcsXG4gIHByb2ZpbGVOYW1lOiBTdHJpbmcsXG4gIHByb2ZpbGVQaWN0dXJlVXJsOiBTdHJpbmcsXG4gIGxhc3RTZWVuOiBEYXRlLFxuICB3ZWJob29rQ29uZmlndXJlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgY29ubmVjdGlvbkF0dGVtcHRzOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgbGFzdENvbm5lY3Rpb25BdHRlbXB0OiBEYXRlXG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWUsXG4gIGNvbGxlY3Rpb246ICd3aGF0c2FwcF9pbnN0YW5jZXMnXG59KVxuXG5XaGF0c0FwcEluc3RhbmNlU2NoZW1hLmluZGV4KHsgdGVuYW50SWQ6IDEsIHN0YXR1czogMSB9KVxuXG4vLyA9PT09PSBNw4lUT0RPUyBFU1TDgVRJQ09TIEUgREUgSU5TVMOCTkNJQSA9PT09PVxuXG4vLyBNw6l0b2RvcyBwYXJhIENoYXRcbkNoYXRXaGF0c0FwcFNjaGVtYS5zdGF0aWNzLmZpbmRCeUluc3RhbmNlID0gZnVuY3Rpb24oaW5zdGFuY2VJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBpbnN0YW5jZUlkIH0pLnNvcnQoeyBsYXN0TWVzc2FnZVRpbWVzdGFtcDogLTEgfSlcbn1cblxuQ2hhdFdoYXRzQXBwU2NoZW1hLnN0YXRpY3MuZmluZEJ5Q2xpZW50ZSA9IGZ1bmN0aW9uKGNsaWVudGVJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBjbGllbnRlSWQgfSkuc29ydCh7IGxhc3RNZXNzYWdlVGltZXN0YW1wOiAtMSB9KVxufVxuXG5DaGF0V2hhdHNBcHBTY2hlbWEubWV0aG9kcy51cGRhdGVMYXN0TWVzc2FnZSA9IGZ1bmN0aW9uKGNvbnRlbnQ6IHN0cmluZywgdGltZXN0YW1wOiBEYXRlKSB7XG4gIHRoaXMubGFzdE1lc3NhZ2UgPSBjb250ZW50XG4gIHRoaXMubGFzdE1lc3NhZ2VUaW1lc3RhbXAgPSB0aW1lc3RhbXBcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpXG59XG5cbkNoYXRXaGF0c0FwcFNjaGVtYS5tZXRob2RzLmluY3JlbWVudFVucmVhZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVucmVhZENvdW50ICs9IDFcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpXG59XG5cbkNoYXRXaGF0c0FwcFNjaGVtYS5tZXRob2RzLm1hcmtBc1JlYWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy51bnJlYWRDb3VudCA9IDBcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpXG59XG5cbi8vIE3DqXRvZG9zIHBhcmEgTWVzc2FnZVxuTWVzc2FnZVdoYXRzQXBwU2NoZW1hLnN0YXRpY3MuZmluZEJ5Q2hhdCA9IGZ1bmN0aW9uKGNoYXRJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNTApIHtcbiAgcmV0dXJuIHRoaXMuZmluZCh7IGNoYXRJZCB9KS5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KS5saW1pdChsaW1pdClcbn1cblxuTWVzc2FnZVdoYXRzQXBwU2NoZW1hLnN0YXRpY3MuZmluZEJ5VGVuYW50ID0gZnVuY3Rpb24odGVuYW50SWQ6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEwMCkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgdGVuYW50SWQgfSkuc29ydCh7IHRpbWVzdGFtcDogLTEgfSkubGltaXQobGltaXQpXG59XG5cbk1lc3NhZ2VXaGF0c0FwcFNjaGVtYS5zdGF0aWNzLmNvdW50VW5yZWFkQnlUZW5hbnQgPSBmdW5jdGlvbih0ZW5hbnRJZDogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZShbXG4gICAgeyAkbWF0Y2g6IHsgdGVuYW50SWQsIGZyb21NZTogZmFsc2UsIHN0YXR1czogeyAkbmU6ICdyZWFkJyB9IH0gfSxcbiAgICB7ICRncm91cDogeyBfaWQ6IG51bGwsIGNvdW50OiB7ICRzdW06IDEgfSB9IH1cbiAgXSlcbn1cblxuLy8gTcOpdG9kb3MgcGFyYSBUZW1wbGF0ZVxuTWVzc2FnZVRlbXBsYXRlU2NoZW1hLnN0YXRpY3MuZmluZEJ5Q2F0ZWdvcnkgPSBmdW5jdGlvbih0ZW5hbnRJZDogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyB0ZW5hbnRJZCwgY2F0ZWdvcnksIGlzQWN0aXZlOiB0cnVlIH0pXG59XG5cbk1lc3NhZ2VUZW1wbGF0ZVNjaGVtYS5tZXRob2RzLmludGVycG9sYXRlID0gZnVuY3Rpb24odmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG4gIGxldCBjb250ZW50ID0gdGhpcy5jb250ZW50XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhcmlhYmxlcykpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG5ldyBSZWdFeHAoYHt7JHtrZXl9fX1gLCAnZycpLCB2YWx1ZSlcbiAgfVxuICByZXR1cm4gY29udGVudFxufVxuXG4vLyBNw6l0b2RvcyBwYXJhIEluc3RhbmNlXG5XaGF0c0FwcEluc3RhbmNlU2NoZW1hLnN0YXRpY3MuZmluZEJ5VGVuYW50ID0gZnVuY3Rpb24odGVuYW50SWQ6IHN0cmluZykge1xuICByZXR1cm4gdGhpcy5maW5kKHsgdGVuYW50SWQsIGlzQWN0aXZlOiB0cnVlIH0pXG59XG5cbldoYXRzQXBwSW5zdGFuY2VTY2hlbWEuc3RhdGljcy5maW5kQ29ubmVjdGVkID0gZnVuY3Rpb24odGVuYW50SWQ6IHN0cmluZykge1xuICByZXR1cm4gdGhpcy5maW5kKHsgdGVuYW50SWQsIHN0YXR1czogJ2Nvbm5lY3RlZCcsIGlzQWN0aXZlOiB0cnVlIH0pXG59XG5cbldoYXRzQXBwSW5zdGFuY2VTY2hlbWEubWV0aG9kcy51cGRhdGVTdGF0dXMgPSBmdW5jdGlvbihzdGF0dXM6IHN0cmluZywgYWRkaXRpb25hbERhdGE/OiBhbnkpIHtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXNcbiAgdGhpcy5sYXN0U2VlbiA9IG5ldyBEYXRlKClcbiAgXG4gIGlmIChhZGRpdGlvbmFsRGF0YSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgYWRkaXRpb25hbERhdGEpXG4gIH1cbiAgXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG5XaGF0c0FwcEluc3RhbmNlU2NoZW1hLm1ldGhvZHMuaW5jcmVtZW50Q29ubmVjdGlvbkF0dGVtcHRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29ubmVjdGlvbkF0dGVtcHRzICs9IDFcbiAgdGhpcy5sYXN0Q29ubmVjdGlvbkF0dGVtcHQgPSBuZXcgRGF0ZSgpXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG5XaGF0c0FwcEluc3RhbmNlU2NoZW1hLm1ldGhvZHMucmVzZXRDb25uZWN0aW9uQXR0ZW1wdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb25uZWN0aW9uQXR0ZW1wdHMgPSAwXG4gIHRoaXMubGFzdENvbm5lY3Rpb25BdHRlbXB0ID0gdW5kZWZpbmVkXG4gIHJldHVybiB0aGlzLnNhdmUoKVxufVxuXG4vLyA9PT09PSBFWFBPUlRBw4fDg08gRE9TIE1PREVMT1MgPT09PT1cblxuZXhwb3J0IGNvbnN0IENoYXRXaGF0c0FwcCA9IChtb25nb29zZS5tb2RlbHM/LkNoYXRXaGF0c0FwcCB8fCBcbiAgbW9uZ29vc2UubW9kZWw8SUNoYXRXaGF0c0FwcD4oJ0NoYXRXaGF0c0FwcCcsIENoYXRXaGF0c0FwcFNjaGVtYSkpIGFzIG1vbmdvb3NlLk1vZGVsPElDaGF0V2hhdHNBcHA+XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlV2hhdHNBcHAgPSAobW9uZ29vc2UubW9kZWxzPy5NZXNzYWdlV2hhdHNBcHAgfHwgXG4gIG1vbmdvb3NlLm1vZGVsPElNZXNzYWdlV2hhdHNBcHA+KCdNZXNzYWdlV2hhdHNBcHAnLCBNZXNzYWdlV2hhdHNBcHBTY2hlbWEpKSBhcyBtb25nb29zZS5Nb2RlbDxJTWVzc2FnZVdoYXRzQXBwPlxuXG5leHBvcnQgY29uc3QgTWVzc2FnZVRlbXBsYXRlID0gKG1vbmdvb3NlLm1vZGVscz8uTWVzc2FnZVRlbXBsYXRlIHx8IFxuICBtb25nb29zZS5tb2RlbDxJTWVzc2FnZVRlbXBsYXRlPignTWVzc2FnZVRlbXBsYXRlJywgTWVzc2FnZVRlbXBsYXRlU2NoZW1hKSkgYXMgbW9uZ29vc2UuTW9kZWw8SU1lc3NhZ2VUZW1wbGF0ZT5cblxuZXhwb3J0IGNvbnN0IEJvdENvbmZpZyA9IChtb25nb29zZS5tb2RlbHM/LkJvdENvbmZpZyB8fCBcbiAgbW9uZ29vc2UubW9kZWw8SUJvdENvbmZpZz4oJ0JvdENvbmZpZycsIEJvdENvbmZpZ1NjaGVtYSkpIGFzIG1vbmdvb3NlLk1vZGVsPElCb3RDb25maWc+XG5cbmV4cG9ydCBjb25zdCBXaGF0c0FwcEluc3RhbmNlID0gKG1vbmdvb3NlLm1vZGVscz8uV2hhdHNBcHBJbnN0YW5jZSB8fCBcbiAgbW9uZ29vc2UubW9kZWw8SVdoYXRzQXBwSW5zdGFuY2U+KCdXaGF0c0FwcEluc3RhbmNlJywgV2hhdHNBcHBJbnN0YW5jZVNjaGVtYSkpIGFzIG1vbmdvb3NlLk1vZGVsPElXaGF0c0FwcEluc3RhbmNlPiAiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJDaGF0V2hhdHNBcHBTY2hlbWEiLCJpbnN0YW5jZUlkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW5kZXgiLCJjbGllbnRlSWQiLCJjb250YWN0SmlkIiwiY29udGFjdE5hbWUiLCJjb250YWN0UHJvZmlsZVBpY3R1cmUiLCJsYXN0TWVzc2FnZSIsImxhc3RNZXNzYWdlVGltZXN0YW1wIiwiRGF0ZSIsInVucmVhZENvdW50IiwiTnVtYmVyIiwiZGVmYXVsdCIsImlzR3JvdXAiLCJCb29sZWFuIiwidGltZXN0YW1wcyIsImNvbGxlY3Rpb24iLCJ1bmlxdWUiLCJNZXNzYWdlV2hhdHNBcHBTY2hlbWEiLCJjaGF0SWQiLCJtZXNzYWdlSWQiLCJyZW1vdGVKaWQiLCJmcm9tTWUiLCJjb250ZW50IiwibWVzc2FnZVR5cGUiLCJlbnVtIiwidGltZXN0YW1wIiwic3RhdHVzIiwibWVkaWFVcmwiLCJmaWxlTmFtZSIsImNhcHRpb24iLCJxdW90ZWRNZXNzYWdlSWQiLCJ0ZW5hbnRJZCIsIk1lc3NhZ2VUZW1wbGF0ZVNjaGVtYSIsIm5hbWUiLCJ0cmltIiwiY2F0ZWdvcnkiLCJ2YXJpYWJsZXMiLCJpc0FjdGl2ZSIsIk1lbnVPcHRpb25TY2hlbWEiLCJpZCIsImtleXdvcmQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicmVzcG9uc2UiLCJzdWJPcHRpb25zIiwiYWN0aW9uIiwiX2lkIiwiQm90Q29uZmlnU2NoZW1hIiwid2VsY29tZU1lc3NhZ2UiLCJtZW51T3B0aW9ucyIsImZhbGxiYWNrTWVzc2FnZSIsImJ1c2luZXNzSG91cnMiLCJlbmFibGVkIiwic3RhcnQiLCJlbmQiLCJ0aW1lem9uZSIsIm9mZmxpbmVNZXNzYWdlIiwiV2hhdHNBcHBJbnN0YW5jZVNjaGVtYSIsImluc3RhbmNlTmFtZSIsInFyQ29kZSIsIm51bWJlciIsInByb2ZpbGVOYW1lIiwicHJvZmlsZVBpY3R1cmVVcmwiLCJsYXN0U2VlbiIsIndlYmhvb2tDb25maWd1cmVkIiwiY29ubmVjdGlvbkF0dGVtcHRzIiwibGFzdENvbm5lY3Rpb25BdHRlbXB0Iiwic3RhdGljcyIsImZpbmRCeUluc3RhbmNlIiwiZmluZCIsInNvcnQiLCJmaW5kQnlDbGllbnRlIiwibWV0aG9kcyIsInVwZGF0ZUxhc3RNZXNzYWdlIiwic2F2ZSIsImluY3JlbWVudFVucmVhZCIsIm1hcmtBc1JlYWQiLCJmaW5kQnlDaGF0IiwibGltaXQiLCJmaW5kQnlUZW5hbnQiLCJjb3VudFVucmVhZEJ5VGVuYW50IiwiYWdncmVnYXRlIiwiJG1hdGNoIiwiJG5lIiwiJGdyb3VwIiwiY291bnQiLCIkc3VtIiwiZmluZEJ5Q2F0ZWdvcnkiLCJpbnRlcnBvbGF0ZSIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInJlcGxhY2UiLCJSZWdFeHAiLCJmaW5kQ29ubmVjdGVkIiwidXBkYXRlU3RhdHVzIiwiYWRkaXRpb25hbERhdGEiLCJhc3NpZ24iLCJpbmNyZW1lbnRDb25uZWN0aW9uQXR0ZW1wdHMiLCJyZXNldENvbm5lY3Rpb25BdHRlbXB0cyIsInVuZGVmaW5lZCIsIkNoYXRXaGF0c0FwcCIsIm1vZGVscyIsIm1vZGVsIiwiTWVzc2FnZVdoYXRzQXBwIiwiTWVzc2FnZVRlbXBsYXRlIiwiQm90Q29uZmlnIiwiV2hhdHNBcHBJbnN0YW5jZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/whatsapp.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwhatsapp%2Fchats%2Froute&page=%2Fapi%2Fwhatsapp%2Fchats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwhatsapp%2Fchats%2Froute.ts&appDir=%2Fhome%2Fm%2Fpandoraprov3%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fm%2Fpandoraprov3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();